/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => LibraryLinkerPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");

// src/bibleBooks.ts
var bibleBooksDE = [
  {
    id: 1,
    aliases: ["1mo", "1.mo", "1mose", "1.mose"],
    longName: "1. Mose",
    shortName: "1Mo"
  },
  {
    id: 2,
    aliases: ["2mo", "2.mo", "2mose", "2.mose"],
    longName: "2. Mose",
    shortName: "2Mo"
  },
  {
    id: 3,
    aliases: ["3mo", "3.mo", "3mose", "3.mose"],
    longName: "3. Mose",
    shortName: "3Mo"
  },
  {
    id: 4,
    aliases: ["4mo", "4.mo", "4mose", "4.mose"],
    longName: "4. Mose",
    shortName: "4Mo"
  },
  {
    id: 5,
    aliases: ["5mo", "5.mo", "5mose", "5.mose"],
    longName: "5. Mose",
    shortName: "5Mo"
  },
  {
    id: 6,
    aliases: ["jos", "josua"],
    longName: "Josua",
    shortName: "Jos"
  },
  {
    id: 7,
    aliases: ["ri", "richt", "richter"],
    longName: "Richter",
    shortName: "Ri"
  },
  {
    id: 8,
    aliases: ["ru", "rut", "ruth"],
    longName: "Ruth",
    shortName: "Ru"
  },
  {
    id: 9,
    aliases: ["1sam", "1.sam", "1samuel", "1.samuel"],
    longName: "1. Samuel",
    shortName: "1Sam"
  },
  {
    id: 10,
    aliases: ["2sam", "2.sam", "2samuel", "2.samuel"],
    longName: "2. Samuel",
    shortName: "2Sam"
  },
  {
    id: 11,
    aliases: ["1k\xF6", "1.k\xF6", "1k\xF6n", "1.k\xF6n", "1k\xF6nige", "1.k\xF6nige"],
    longName: "1. K\xF6nige",
    shortName: "1K\xF6"
  },
  {
    id: 12,
    aliases: ["2k\xF6", "2.k\xF6", "2k\xF6n", "2.k\xF6n", "2k\xF6nige", "2.k\xF6nige"],
    longName: "2. K\xF6nige",
    shortName: "2K\xF6"
  },
  {
    id: 13,
    aliases: [
      "1chr",
      "1.chr",
      "1chron",
      "1.chron",
      "1chronik",
      "1.chronik",
      "1chronika",
      "1.chronika"
    ],
    longName: "1. Chronika",
    shortName: "1Chr"
  },
  {
    id: 14,
    aliases: [
      "2chr",
      "2.chr",
      "2chron",
      "2.chron",
      "2chronik",
      "2.chronik",
      "2chronika",
      "2.chronika"
    ],
    longName: "2. Chronika",
    shortName: "2Chr"
  },
  {
    id: 15,
    aliases: ["esr", "esra"],
    longName: "Esra",
    shortName: "Esr"
  },
  {
    id: 16,
    aliases: ["neh", "nehem", "nehemia"],
    longName: "Nehemia",
    shortName: "Neh"
  },
  {
    id: 17,
    aliases: ["est", "esth", "ester", "esther"],
    longName: "Esther",
    shortName: "Esth"
  },
  {
    id: 18,
    aliases: ["hi", "hiob"],
    longName: "Hiob",
    shortName: "Hi"
  },
  {
    id: 19,
    aliases: ["ps", "psa", "psalm", "psalmen"],
    longName: "Psalm",
    shortName: "Ps"
  },
  {
    id: 20,
    aliases: ["spr", "spr\xFC", "sprue", "spr\xFCche"],
    longName: "Spr\xFCche",
    shortName: "Spr"
  },
  {
    id: 21,
    aliases: ["pred", "prediger"],
    longName: "Prediger",
    shortName: "Pred"
  },
  {
    id: 22,
    aliases: ["hoh", "hl", "hoheslied", "hohes lied"],
    longName: "Hohes Lied",
    shortName: "Hoh"
  },
  {
    id: 23,
    aliases: ["jes", "jesaja"],
    longName: "Jesaja",
    shortName: "Jes"
  },
  {
    id: 24,
    aliases: ["jer", "jeremia"],
    longName: "Jeremia",
    shortName: "Jer"
  },
  {
    id: 25,
    aliases: ["klag", "klg", "klgl", "klagelieder"],
    longName: "Klagelieder",
    shortName: "Klg"
  },
  {
    id: 26,
    aliases: ["hes", "hesekiel"],
    longName: "Hesekiel",
    shortName: "Hes"
  },
  {
    id: 27,
    aliases: ["dan", "daniel"],
    longName: "Daniel",
    shortName: "Dan"
  },
  {
    id: 28,
    aliases: ["hos", "hosea"],
    longName: "Hosea",
    shortName: "Hos"
  },
  {
    id: 29,
    aliases: ["joe", "joel"],
    longName: "Joel",
    shortName: "Joel"
  },
  {
    id: 30,
    aliases: ["am", "amos"],
    longName: "Amos",
    shortName: "Am"
  },
  {
    id: 31,
    aliases: ["ob", "obd", "obadja"],
    longName: "Obadja",
    shortName: "Ob"
  },
  {
    id: 32,
    aliases: ["jon", "jona"],
    longName: "Jona",
    shortName: "Jon"
  },
  {
    id: 33,
    aliases: ["mi", "micha"],
    longName: "Micha",
    shortName: "Mi"
  },
  {
    id: 34,
    aliases: ["nah", "nahum"],
    longName: "Nahum",
    shortName: "Nah"
  },
  {
    id: 35,
    aliases: ["hab", "habakuk"],
    longName: "Habakuk",
    shortName: "Hab"
  },
  {
    id: 36,
    aliases: ["zeph", "zefanja", "zephanja"],
    longName: "Zephanja",
    shortName: "Zeph"
  },
  {
    id: 37,
    aliases: ["hag", "haggai"],
    longName: "Haggai",
    shortName: "Hag"
  },
  {
    id: 38,
    aliases: ["sach", "sacharja"],
    longName: "Sacharja",
    shortName: "Sach"
  },
  {
    id: 39,
    aliases: ["mal", "maleachi"],
    longName: "Maleachi",
    shortName: "Mal"
  },
  {
    id: 40,
    aliases: ["mt", "mat", "matt", "matth", "matth\xE4us"],
    longName: "Matth\xE4us",
    shortName: "Mat"
  },
  {
    id: 41,
    aliases: ["mar", "markus"],
    longName: "Markus",
    shortName: "Mar"
  },
  {
    id: 42,
    aliases: ["lk", "luk", "lukas"],
    longName: "Lukas",
    shortName: "Luk"
  },
  {
    id: 43,
    aliases: ["joh", "johannes"],
    longName: "Johannes",
    shortName: "Joh"
  },
  {
    id: 44,
    aliases: ["apg", "apostelgeschichte"],
    longName: "Apostelgeschichte",
    shortName: "Apg"
  },
  {
    id: 45,
    aliases: ["r\xF6m", "r\xF6mer"],
    longName: "R\xF6mer",
    shortName: "R\xF6m"
  },
  {
    id: 46,
    aliases: ["1kor", "1.kor", "1korinther", "1.korinther"],
    longName: "1. Korinther",
    shortName: "1Kor"
  },
  {
    id: 47,
    aliases: ["2kor", "2.kor", "2korinther", "2.korinther"],
    longName: "2. Korinther",
    shortName: "2Kor"
  },
  {
    id: 48,
    aliases: ["gal", "galater"],
    longName: "Galater",
    shortName: "Gal"
  },
  {
    id: 49,
    aliases: ["eph", "epheser"],
    longName: "Epheser",
    shortName: "Eph"
  },
  {
    id: 50,
    aliases: ["phil", "philipper"],
    longName: "Philipper",
    shortName: "Phil"
  },
  {
    id: 51,
    aliases: ["kol", "kolosser"],
    longName: "Kolosser",
    shortName: "Kol"
  },
  {
    id: 52,
    aliases: ["1th", "1.th", "1thes", "1.thes", "1thessalonicher", "1.thessalonicher"],
    longName: "1. Thessalonicher",
    shortName: "1Th"
  },
  {
    id: 53,
    aliases: ["2th", "2.th", "2thes", "2.thes", "2thessalonicher", "2.thessalonicher"],
    longName: "2. Thessalonicher",
    shortName: "2Th"
  },
  {
    id: 54,
    aliases: ["1tim", "1.tim", "1timotheus", "1.timotheus"],
    longName: "1. Timotheus",
    shortName: "1Tim"
  },
  {
    id: 55,
    aliases: ["2tim", "2.tim", "2timotheus", "2.timotheus"],
    longName: "2. Timotheus",
    shortName: "2Tim"
  },
  {
    id: 56,
    aliases: ["tit", "titus"],
    longName: "Titus",
    shortName: "Tit"
  },
  {
    id: 57,
    aliases: ["phm", "phlm", "philemon"],
    longName: "Philemon",
    shortName: "Phm"
  },
  {
    id: 58,
    aliases: ["hebr", "heb", "hebr\xE4er"],
    longName: "Hebr\xE4er",
    shortName: "Hebr"
  },
  {
    id: 59,
    aliases: ["jak", "jakobus"],
    longName: "Jakobus",
    shortName: "Jak"
  },
  {
    id: 60,
    aliases: ["1pe", "1.pe", "1pet", "1.pet", "1petrus", "1.petrus"],
    longName: "1. Petrus",
    shortName: "1Pe"
  },
  {
    id: 61,
    aliases: ["2pe", "2.pe", "2pet", "2.pet", "2petrus", "2.petrus"],
    longName: "2. Petrus",
    shortName: "2Pe"
  },
  {
    id: 62,
    aliases: ["1joh", "1.joh", "1johannes", "1.johannes"],
    longName: "1. Johannes",
    shortName: "1Joh"
  },
  {
    id: 63,
    aliases: ["2joh", "2.joh", "2johannes", "2.johannes"],
    longName: "2. Johannes",
    shortName: "2Joh"
  },
  {
    id: 64,
    aliases: ["3joh", "3.joh", "3johannes", "3.johannes"],
    longName: "3. Johannes",
    shortName: "3Joh"
  },
  {
    id: 65,
    aliases: ["jud", "judas"],
    longName: "Judas",
    shortName: "Jud"
  },
  {
    id: 66,
    aliases: ["off", "offb", "offenbarung", "offenb"],
    longName: "Offenbarung",
    shortName: "Off"
  }
];

// src/utils/findBookIndex.ts
function findBookIndex(bookQuery) {
  bookQuery = bookQuery.toLowerCase().trim();
  for (const book of bibleBooksDE) {
    if (book.aliases.includes(bookQuery)) {
      return book.id;
    }
  }
  return -1;
}

// src/utils/parseBibleReference.ts
function parseBibleReference(input) {
  input = input.trim().toLowerCase();
  const match = input.match(/^([a-z0-9äöüß]+?)(?:\s*(\d+)\s*:\s*(\d+)(?:\s*-\s*(\d+))?$)/i);
  if (!match) {
    throw new Error("Invalid format");
  }
  const [, bookName, chapter, verseStart, verseEnd] = match;
  const bookIndex = findBookIndex(bookName.trim());
  if (bookIndex === -1) {
    throw new Error("Book not found");
  }
  return {
    book: bookIndex < 10 ? `0${bookIndex}` : bookIndex.toString(),
    chapter: chapter.padStart(3, "0"),
    verse: verseStart.padStart(3, "0"),
    endVerse: verseEnd ? verseEnd.padStart(3, "0") : void 0
  };
}

// src/utils/formatJWLibraryLink.ts
function formatJWLibraryLink(reference) {
  const baseReference = `${reference.book}${reference.chapter}${reference.verse}`;
  const rangeReference = reference.endVerse ? `-${reference.book}${reference.chapter}${reference.endVerse}` : "";
  return `jwlibrary:///finder?bible=${baseReference}${rangeReference}`;
}

// src/utils/formatBibleText.ts
function formatBibleText(input, short = false) {
  try {
    const reference = parseBibleReference(input);
    const bookIndex = parseInt(reference.book) - 1;
    const bookEntry = bibleBooksDE[bookIndex];
    const bookName = short ? bookEntry.shortName : bookEntry.longName;
    const verseRef = reference.endVerse ? `${parseInt(reference.verse)}-${parseInt(reference.endVerse)}` : parseInt(reference.verse);
    return `${bookName} ${parseInt(reference.chapter)}:${verseRef}`;
  } catch (error) {
    return input;
  }
}

// src/utils/convertBibleReference.ts
function convertBibleReference(url) {
  url = url.replace("jwpub://", "jwlibrary://");
  const parts = url.split("/");
  const bibleRef = parts[parts.length - 1];
  const [startBookChapterVerse, endBookChapterVerse] = bibleRef.split("-");
  const [bookStart, chapterStart, verseStart] = startBookChapterVerse.split(":");
  const [bookEnd, chapterEnd, verseEnd] = endBookChapterVerse.split(":");
  const formattedChapterStart = chapterStart.padStart(3, "0");
  const formattedVerseStart = verseStart.padStart(3, "0");
  const formattedChapterEnd = chapterEnd.padStart(3, "0");
  const formattedVerseEnd = verseEnd.padStart(3, "0");
  const formattedReferenceStart = `${bookStart}${formattedChapterStart}${formattedVerseStart}`;
  const formattedReferenceEnd = `${bookEnd}${formattedChapterEnd}${formattedVerseEnd}`;
  const formattedReference = formattedReferenceStart === formattedReferenceEnd ? formattedReferenceStart : `${formattedReferenceStart}-${formattedReferenceEnd}`;
  return `jwlibrary:///finder?bible=${formattedReference}`;
}

// src/utils/convertPublicationReference.ts
function convertPublicationReference(url) {
  const parts = url.split("/");
  const pubRef = parts[3];
  const [locale, docId] = pubRef.split(":");
  const paragraph = parts[4];
  return `jwlibrary:///finder?wtlocale=${locale}&docid=${docId}&par=${paragraph}`;
}

// src/main.ts
var DEFAULT_SETTINGS = {
  useShortNames: false
};
var BibleReferenceSuggester = class extends import_obsidian.EditorSuggest {
  constructor(plugin) {
    super(plugin.app);
    this.plugin = plugin;
  }
  onTrigger(cursor, editor) {
    const line = editor.getLine(cursor.line);
    const subString = line.substring(0, cursor.ch);
    const match = subString.match(
      /(?:^|\s)(?:[-*+]\s+)?\/b\s+([a-z0-9äöüß]+\s*\d+:\d+(?:-\d+)?)?$/i
    );
    if (!match) return null;
    return {
      start: {
        ch: match.index + match[0].indexOf("/"),
        // Adjust start position to the actual command
        line: cursor.line
      },
      end: cursor,
      query: match[1] || ""
    };
  }
  getSuggestions(context) {
    const query = context.query;
    if (query.match(/^[a-z0-9äöüß]+\s*\d+:\d+(?:-\d+)?$/i)) {
      return [
        {
          text: query,
          command: "link",
          description: "Create JW Library link"
        },
        {
          text: query,
          command: "open",
          description: "Create JW Library link and open"
        }
      ];
    }
    return [];
  }
  renderSuggestion(suggestion, el) {
    el.setText(`${suggestion.description}`);
  }
  selectSuggestion(suggestion) {
    if (!this.context) return;
    const { context } = this;
    const editor = context.editor;
    const convertedLink = this.plugin.convertBibleTextToMarkdownLink(suggestion.text);
    editor.replaceRange(convertedLink, context.start, context.end);
    if (suggestion.command === "open") {
      const url = this.plugin.convertBibleTextToLink(suggestion.text);
      window.open(url);
    }
  }
};
var LibraryLinkerPlugin = class extends import_obsidian.Plugin {
  convertLinks(content, type) {
    const wikiLinkRegex = /\[([^\]]+)\]\(([^)]+)\)/g;
    return content.replace(wikiLinkRegex, (match, text, url) => {
      if (url.startsWith("jwpub://b/") && (type === "bible" || type === "all")) {
        return `[${text}](${convertBibleReference(url)})`;
      }
      if (url.startsWith("jwpub://p/") && (type === "publication" || type === "all")) {
        return `[${text}](${convertPublicationReference(url)})`;
      }
      return match;
    });
  }
  convertBibleTextToLink(input) {
    try {
      const reference = parseBibleReference(input);
      return formatJWLibraryLink(reference);
    } catch (error) {
      console.error("Error converting Bible text:", error.message);
      return input;
    }
  }
  convertBibleTextToMarkdownLink(input) {
    try {
      const url = this.convertBibleTextToLink(input);
      const formattedText = formatBibleText(input, this.settings.useShortNames);
      if (url !== input) {
        return `[${formattedText}](${url})`;
      }
      return input;
    } catch (error) {
      return input;
    }
  }
  async onload() {
    await this.loadSettings();
    this.addCommand({
      id: "replace-links",
      name: "Replace all links",
      editorCallback: (editor) => {
        const currentContent = editor.getValue();
        const updatedContent = this.convertLinks(currentContent, "all");
        if (currentContent !== updatedContent) {
          editor.setValue(updatedContent);
        }
      }
    });
    this.addCommand({
      id: "replace-bible-links",
      name: "Replace Bible verse links",
      editorCallback: (editor) => {
        const currentContent = editor.getValue();
        const updatedContent = this.convertLinks(currentContent, "bible");
        if (currentContent !== updatedContent) {
          editor.setValue(updatedContent);
        }
      }
    });
    this.addCommand({
      id: "replace-publication-links",
      name: "Replace publication links",
      editorCallback: (editor) => {
        const currentContent = editor.getValue();
        const updatedContent = this.convertLinks(currentContent, "publication");
        if (currentContent !== updatedContent) {
          editor.setValue(updatedContent);
        }
      }
    });
    this.addCommand({
      id: "convert-bible-text",
      name: "Convert Bible reference to Library link",
      editorCallback: (editor) => {
        const selection = editor.getSelection();
        if (selection) {
          const convertedLink = this.convertBibleTextToMarkdownLink(selection);
          editor.replaceSelection(convertedLink);
        }
      }
    });
    this.addSettingTab(new LinkReplacerSettingTab(this.app, this));
    this.bibleSuggester = new BibleReferenceSuggester(this);
    this.registerEditorSuggest(this.bibleSuggester);
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var LinkReplacerSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian.Setting(containerEl).setName("Use short names in Bible links").setDesc(
      'When enabled, Bible references will use abbreviated book names (e.g., "1Pe" instead of "1. Peter")'
    ).addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.useShortNames).onChange(async (value) => {
        this.plugin.settings.useShortNames = value;
        await this.plugin.saveSettings();
      })
    );
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL2JpYmxlQm9va3MudHMiLCAic3JjL3V0aWxzL2ZpbmRCb29rSW5kZXgudHMiLCAic3JjL3V0aWxzL3BhcnNlQmlibGVSZWZlcmVuY2UudHMiLCAic3JjL3V0aWxzL2Zvcm1hdEpXTGlicmFyeUxpbmsudHMiLCAic3JjL3V0aWxzL2Zvcm1hdEJpYmxlVGV4dC50cyIsICJzcmMvdXRpbHMvY29udmVydEJpYmxlUmVmZXJlbmNlLnRzIiwgInNyYy91dGlscy9jb252ZXJ0UHVibGljYXRpb25SZWZlcmVuY2UudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7XG4gIEFwcCxcbiAgRWRpdG9yLFxuICBFZGl0b3JQb3NpdGlvbixcbiAgRWRpdG9yU3VnZ2VzdCxcbiAgRWRpdG9yU3VnZ2VzdENvbnRleHQsXG4gIEVkaXRvclN1Z2dlc3RUcmlnZ2VySW5mbyxcbiAgUGx1Z2luLFxuICBQbHVnaW5TZXR0aW5nVGFiLFxuICBTZXR0aW5nLFxufSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBwYXJzZUJpYmxlUmVmZXJlbmNlIH0gZnJvbSAnQC91dGlscy9wYXJzZUJpYmxlUmVmZXJlbmNlJztcbmltcG9ydCB7IGZvcm1hdEpXTGlicmFyeUxpbmsgfSBmcm9tICdAL3V0aWxzL2Zvcm1hdEpXTGlicmFyeUxpbmsnO1xuaW1wb3J0IHsgZm9ybWF0QmlibGVUZXh0IH0gZnJvbSAnQC91dGlscy9mb3JtYXRCaWJsZVRleHQnO1xuaW1wb3J0IHsgY29udmVydEJpYmxlUmVmZXJlbmNlIH0gZnJvbSAnQC91dGlscy9jb252ZXJ0QmlibGVSZWZlcmVuY2UnO1xuaW1wb3J0IHsgY29udmVydFB1YmxpY2F0aW9uUmVmZXJlbmNlIH0gZnJvbSAnQC91dGlscy9jb252ZXJ0UHVibGljYXRpb25SZWZlcmVuY2UnO1xuaW1wb3J0IHR5cGUgeyBCaWJsZVN1Z2dlc3Rpb24sIExpbmtSZXBsYWNlclNldHRpbmdzIH0gZnJvbSAnQC90eXBlcyc7XG5cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IExpbmtSZXBsYWNlclNldHRpbmdzID0ge1xuICB1c2VTaG9ydE5hbWVzOiBmYWxzZSxcbn07XG5cbmNsYXNzIEJpYmxlUmVmZXJlbmNlU3VnZ2VzdGVyIGV4dGVuZHMgRWRpdG9yU3VnZ2VzdDxCaWJsZVN1Z2dlc3Rpb24+IHtcbiAgcGx1Z2luOiBMaWJyYXJ5TGlua2VyUGx1Z2luO1xuXG4gIGNvbnN0cnVjdG9yKHBsdWdpbjogTGlicmFyeUxpbmtlclBsdWdpbikge1xuICAgIHN1cGVyKHBsdWdpbi5hcHApO1xuICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICB9XG5cbiAgb25UcmlnZ2VyKGN1cnNvcjogRWRpdG9yUG9zaXRpb24sIGVkaXRvcjogRWRpdG9yKTogRWRpdG9yU3VnZ2VzdFRyaWdnZXJJbmZvIHwgbnVsbCB7XG4gICAgY29uc3QgbGluZSA9IGVkaXRvci5nZXRMaW5lKGN1cnNvci5saW5lKTtcbiAgICBjb25zdCBzdWJTdHJpbmcgPSBsaW5lLnN1YnN0cmluZygwLCBjdXJzb3IuY2gpO1xuXG4gICAgLy8gTW9kaWZpZWQgcmVnZXggdG8gaGFuZGxlIGJ1bGxldCBwb2ludHMgYW5kIG90aGVyIGxpc3QgbWFya2VycyBhdCBzdGFydCBvZiBsaW5lXG4gICAgY29uc3QgbWF0Y2ggPSBzdWJTdHJpbmcubWF0Y2goXG4gICAgICAvKD86XnxcXHMpKD86Wy0qK11cXHMrKT9cXC9iXFxzKyhbYS16MC05XHUwMEU0XHUwMEY2XHUwMEZDXHUwMERGXStcXHMqXFxkKzpcXGQrKD86LVxcZCspPyk/JC9pLFxuICAgICk7XG5cbiAgICBpZiAoIW1hdGNoKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiB7XG4gICAgICBzdGFydDoge1xuICAgICAgICBjaDogbWF0Y2guaW5kZXghICsgbWF0Y2hbMF0uaW5kZXhPZignLycpLCAvLyBBZGp1c3Qgc3RhcnQgcG9zaXRpb24gdG8gdGhlIGFjdHVhbCBjb21tYW5kXG4gICAgICAgIGxpbmU6IGN1cnNvci5saW5lLFxuICAgICAgfSxcbiAgICAgIGVuZDogY3Vyc29yLFxuICAgICAgcXVlcnk6IG1hdGNoWzFdIHx8ICcnLFxuICAgIH07XG4gIH1cblxuICBnZXRTdWdnZXN0aW9ucyhjb250ZXh0OiBFZGl0b3JTdWdnZXN0Q29udGV4dCk6IEJpYmxlU3VnZ2VzdGlvbltdIHtcbiAgICBjb25zdCBxdWVyeSA9IGNvbnRleHQucXVlcnk7XG5cbiAgICAvLyBSZWdleCB0aGF0IGhhbmRsZXMgYm90aCB3aXRoIGFuZCB3aXRob3V0IHNwYWNlXG4gICAgaWYgKHF1ZXJ5Lm1hdGNoKC9eW2EtejAtOVx1MDBFNFx1MDBGNlx1MDBGQ1x1MDBERl0rXFxzKlxcZCs6XFxkKyg/Oi1cXGQrKT8kL2kpKSB7XG4gICAgICByZXR1cm4gW1xuICAgICAgICB7XG4gICAgICAgICAgdGV4dDogcXVlcnksXG4gICAgICAgICAgY29tbWFuZDogJ2xpbmsnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQ3JlYXRlIEpXIExpYnJhcnkgbGluaycsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0ZXh0OiBxdWVyeSxcbiAgICAgICAgICBjb21tYW5kOiAnb3BlbicsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdDcmVhdGUgSlcgTGlicmFyeSBsaW5rIGFuZCBvcGVuJyxcbiAgICAgICAgfSxcbiAgICAgIF07XG4gICAgfVxuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIHJlbmRlclN1Z2dlc3Rpb24oc3VnZ2VzdGlvbjogQmlibGVTdWdnZXN0aW9uLCBlbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICBlbC5zZXRUZXh0KGAke3N1Z2dlc3Rpb24uZGVzY3JpcHRpb259YCk7XG4gIH1cblxuICBzZWxlY3RTdWdnZXN0aW9uKHN1Z2dlc3Rpb246IEJpYmxlU3VnZ2VzdGlvbik6IHZvaWQge1xuICAgIGlmICghdGhpcy5jb250ZXh0KSByZXR1cm47XG5cbiAgICBjb25zdCB7IGNvbnRleHQgfSA9IHRoaXM7XG4gICAgY29uc3QgZWRpdG9yID0gY29udGV4dC5lZGl0b3I7XG5cbiAgICAvLyBDb252ZXJ0IHRoZSBCaWJsZSByZWZlcmVuY2UgdG8gYSBsaW5rXG4gICAgY29uc3QgY29udmVydGVkTGluayA9IHRoaXMucGx1Z2luLmNvbnZlcnRCaWJsZVRleHRUb01hcmtkb3duTGluayhzdWdnZXN0aW9uLnRleHQpO1xuXG4gICAgLy8gUmVwbGFjZSB0aGUgZW50aXJlIGNvbW1hbmQgYW5kIHJlZmVyZW5jZSB3aXRoIHRoZSBjb252ZXJ0ZWQgbGlua1xuICAgIGVkaXRvci5yZXBsYWNlUmFuZ2UoY29udmVydGVkTGluaywgY29udGV4dC5zdGFydCwgY29udGV4dC5lbmQpO1xuXG4gICAgLy8gSWYgdGhpcyB3YXMgYSAvYm8gY29tbWFuZCwgb3BlbiB0aGUgbGlua1xuICAgIGlmIChzdWdnZXN0aW9uLmNvbW1hbmQgPT09ICdvcGVuJykge1xuICAgICAgY29uc3QgdXJsID0gdGhpcy5wbHVnaW4uY29udmVydEJpYmxlVGV4dFRvTGluayhzdWdnZXN0aW9uLnRleHQpO1xuICAgICAgd2luZG93Lm9wZW4odXJsKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGlicmFyeUxpbmtlclBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG4gIHNldHRpbmdzOiBMaW5rUmVwbGFjZXJTZXR0aW5ncztcbiAgcHJpdmF0ZSBiaWJsZVN1Z2dlc3RlcjogQmlibGVSZWZlcmVuY2VTdWdnZXN0ZXI7XG5cbiAgcHJpdmF0ZSBjb252ZXJ0TGlua3MoY29udGVudDogc3RyaW5nLCB0eXBlPzogJ2JpYmxlJyB8ICdwdWJsaWNhdGlvbicgfCAnYWxsJyk6IHN0cmluZyB7XG4gICAgY29uc3Qgd2lraUxpbmtSZWdleCA9IC9cXFsoW15cXF1dKylcXF1cXCgoW14pXSspXFwpL2c7XG5cbiAgICByZXR1cm4gY29udGVudC5yZXBsYWNlKHdpa2lMaW5rUmVnZXgsIChtYXRjaCwgdGV4dCwgdXJsKSA9PiB7XG4gICAgICAvLyBIYW5kbGUgQmlibGUgcmVmZXJlbmNlc1xuICAgICAgaWYgKHVybC5zdGFydHNXaXRoKCdqd3B1YjovL2IvJykgJiYgKHR5cGUgPT09ICdiaWJsZScgfHwgdHlwZSA9PT0gJ2FsbCcpKSB7XG4gICAgICAgIHJldHVybiBgWyR7dGV4dH1dKCR7Y29udmVydEJpYmxlUmVmZXJlbmNlKHVybCl9KWA7XG4gICAgICB9XG4gICAgICAvLyBIYW5kbGUgcHVibGljYXRpb24gcmVmZXJlbmNlc1xuICAgICAgaWYgKHVybC5zdGFydHNXaXRoKCdqd3B1YjovL3AvJykgJiYgKHR5cGUgPT09ICdwdWJsaWNhdGlvbicgfHwgdHlwZSA9PT0gJ2FsbCcpKSB7XG4gICAgICAgIHJldHVybiBgWyR7dGV4dH1dKCR7Y29udmVydFB1YmxpY2F0aW9uUmVmZXJlbmNlKHVybCl9KWA7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgY29udmVydEJpYmxlVGV4dFRvTGluayhpbnB1dDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVmZXJlbmNlID0gcGFyc2VCaWJsZVJlZmVyZW5jZShpbnB1dCk7XG4gICAgICByZXR1cm4gZm9ybWF0SldMaWJyYXJ5TGluayhyZWZlcmVuY2UpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjb252ZXJ0aW5nIEJpYmxlIHRleHQ6JywgZXJyb3IubWVzc2FnZSk7XG4gICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGNvbnZlcnRCaWJsZVRleHRUb01hcmtkb3duTGluayhpbnB1dDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXJsID0gdGhpcy5jb252ZXJ0QmlibGVUZXh0VG9MaW5rKGlucHV0KTtcbiAgICAgIGNvbnN0IGZvcm1hdHRlZFRleHQgPSBmb3JtYXRCaWJsZVRleHQoaW5wdXQsIHRoaXMuc2V0dGluZ3MudXNlU2hvcnROYW1lcyk7XG4gICAgICAvLyBPbmx5IGNyZWF0ZSBtYXJrZG93biBsaW5rIGlmIGNvbnZlcnNpb24gd2FzIHN1Y2Nlc3NmdWxcbiAgICAgIGlmICh1cmwgIT09IGlucHV0KSB7XG4gICAgICAgIHJldHVybiBgWyR7Zm9ybWF0dGVkVGV4dH1dKCR7dXJsfSlgO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgb25sb2FkKCkge1xuICAgIGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cbiAgICAvLyBBZGQgdGhlIGNvbW1hbmQgZm9yIGFsbCBsaW5rIHJlcGxhY2VtZW50XG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiAncmVwbGFjZS1saW5rcycsXG4gICAgICBuYW1lOiAnUmVwbGFjZSBhbGwgbGlua3MnLFxuICAgICAgZWRpdG9yQ2FsbGJhY2s6IChlZGl0b3I6IEVkaXRvcikgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50Q29udGVudCA9IGVkaXRvci5nZXRWYWx1ZSgpO1xuICAgICAgICBjb25zdCB1cGRhdGVkQ29udGVudCA9IHRoaXMuY29udmVydExpbmtzKGN1cnJlbnRDb250ZW50LCAnYWxsJyk7XG4gICAgICAgIGlmIChjdXJyZW50Q29udGVudCAhPT0gdXBkYXRlZENvbnRlbnQpIHtcbiAgICAgICAgICBlZGl0b3Iuc2V0VmFsdWUodXBkYXRlZENvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgLy8gQWRkIGNvbW1hbmQgZm9yIEJpYmxlIGxpbmtzIG9ubHlcbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6ICdyZXBsYWNlLWJpYmxlLWxpbmtzJyxcbiAgICAgIG5hbWU6ICdSZXBsYWNlIEJpYmxlIHZlcnNlIGxpbmtzJyxcbiAgICAgIGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yOiBFZGl0b3IpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudENvbnRlbnQgPSBlZGl0b3IuZ2V0VmFsdWUoKTtcbiAgICAgICAgY29uc3QgdXBkYXRlZENvbnRlbnQgPSB0aGlzLmNvbnZlcnRMaW5rcyhjdXJyZW50Q29udGVudCwgJ2JpYmxlJyk7XG4gICAgICAgIGlmIChjdXJyZW50Q29udGVudCAhPT0gdXBkYXRlZENvbnRlbnQpIHtcbiAgICAgICAgICBlZGl0b3Iuc2V0VmFsdWUodXBkYXRlZENvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgLy8gQWRkIGNvbW1hbmQgZm9yIHB1YmxpY2F0aW9uIGxpbmtzIG9ubHlcbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6ICdyZXBsYWNlLXB1YmxpY2F0aW9uLWxpbmtzJyxcbiAgICAgIG5hbWU6ICdSZXBsYWNlIHB1YmxpY2F0aW9uIGxpbmtzJyxcbiAgICAgIGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yOiBFZGl0b3IpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudENvbnRlbnQgPSBlZGl0b3IuZ2V0VmFsdWUoKTtcbiAgICAgICAgY29uc3QgdXBkYXRlZENvbnRlbnQgPSB0aGlzLmNvbnZlcnRMaW5rcyhjdXJyZW50Q29udGVudCwgJ3B1YmxpY2F0aW9uJyk7XG4gICAgICAgIGlmIChjdXJyZW50Q29udGVudCAhPT0gdXBkYXRlZENvbnRlbnQpIHtcbiAgICAgICAgICBlZGl0b3Iuc2V0VmFsdWUodXBkYXRlZENvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgLy8gQWRkIGNvbW1hbmQgZm9yIEJpYmxlIHRleHQgY29udmVyc2lvblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogJ2NvbnZlcnQtYmlibGUtdGV4dCcsXG4gICAgICBuYW1lOiAnQ29udmVydCBCaWJsZSByZWZlcmVuY2UgdG8gTGlicmFyeSBsaW5rJyxcbiAgICAgIGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yOiBFZGl0b3IpID0+IHtcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuICAgICAgICBpZiAoc2VsZWN0aW9uKSB7XG4gICAgICAgICAgY29uc3QgY29udmVydGVkTGluayA9IHRoaXMuY29udmVydEJpYmxlVGV4dFRvTWFya2Rvd25MaW5rKHNlbGVjdGlvbik7XG4gICAgICAgICAgZWRpdG9yLnJlcGxhY2VTZWxlY3Rpb24oY29udmVydGVkTGluayk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvLyBBZGQgc2V0dGluZ3MgdGFiXG4gICAgdGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBMaW5rUmVwbGFjZXJTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG5cbiAgICAvLyBSZWdpc3RlciB0aGUgQmlibGUgcmVmZXJlbmNlIHN1Z2dlc3RlclxuICAgIHRoaXMuYmlibGVTdWdnZXN0ZXIgPSBuZXcgQmlibGVSZWZlcmVuY2VTdWdnZXN0ZXIodGhpcyk7XG4gICAgdGhpcy5yZWdpc3RlckVkaXRvclN1Z2dlc3QodGhpcy5iaWJsZVN1Z2dlc3Rlcik7XG4gIH1cblxuICBvbnVubG9hZCgpIHtcbiAgICAvLyBDbGVhbiB1cCBwbHVnaW4gcmVzb3VyY2VzIGlmIG5lZWRlZFxuICB9XG5cbiAgYXN5bmMgbG9hZFNldHRpbmdzKCkge1xuICAgIHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xuICB9XG5cbiAgYXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuICAgIGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG4gIH1cbn1cblxuY2xhc3MgTGlua1JlcGxhY2VyU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuICBwbHVnaW46IExpYnJhcnlMaW5rZXJQbHVnaW47XG5cbiAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogTGlicmFyeUxpbmtlclBsdWdpbikge1xuICAgIHN1cGVyKGFwcCwgcGx1Z2luKTtcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgfVxuXG4gIGRpc3BsYXkoKTogdm9pZCB7XG4gICAgY29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcbiAgICBjb250YWluZXJFbC5lbXB0eSgpO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZSgnVXNlIHNob3J0IG5hbWVzIGluIEJpYmxlIGxpbmtzJylcbiAgICAgIC5zZXREZXNjKFxuICAgICAgICAnV2hlbiBlbmFibGVkLCBCaWJsZSByZWZlcmVuY2VzIHdpbGwgdXNlIGFiYnJldmlhdGVkIGJvb2sgbmFtZXMgKGUuZy4sIFwiMVBlXCIgaW5zdGVhZCBvZiBcIjEuIFBldGVyXCIpJyxcbiAgICAgIClcbiAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cbiAgICAgICAgdG9nZ2xlLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnVzZVNob3J0TmFtZXMpLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnVzZVNob3J0TmFtZXMgPSB2YWx1ZTtcbiAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgfSksXG4gICAgICApO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQmlibGVCb29rIH0gZnJvbSAnQC90eXBlcyc7XG5cbmV4cG9ydCBjb25zdCBiaWJsZUJvb2tzREU6IHJlYWRvbmx5IEJpYmxlQm9va1tdID0gW1xuICB7XG4gICAgaWQ6IDEsXG4gICAgYWxpYXNlczogWycxbW8nLCAnMS5tbycsICcxbW9zZScsICcxLm1vc2UnXSxcbiAgICBsb25nTmFtZTogJzEuIE1vc2UnLFxuICAgIHNob3J0TmFtZTogJzFNbycsXG4gIH0sXG4gIHtcbiAgICBpZDogMixcbiAgICBhbGlhc2VzOiBbJzJtbycsICcyLm1vJywgJzJtb3NlJywgJzIubW9zZSddLFxuICAgIGxvbmdOYW1lOiAnMi4gTW9zZScsXG4gICAgc2hvcnROYW1lOiAnMk1vJyxcbiAgfSxcbiAge1xuICAgIGlkOiAzLFxuICAgIGFsaWFzZXM6IFsnM21vJywgJzMubW8nLCAnM21vc2UnLCAnMy5tb3NlJ10sXG4gICAgbG9uZ05hbWU6ICczLiBNb3NlJyxcbiAgICBzaG9ydE5hbWU6ICczTW8nLFxuICB9LFxuICB7XG4gICAgaWQ6IDQsXG4gICAgYWxpYXNlczogWyc0bW8nLCAnNC5tbycsICc0bW9zZScsICc0Lm1vc2UnXSxcbiAgICBsb25nTmFtZTogJzQuIE1vc2UnLFxuICAgIHNob3J0TmFtZTogJzRNbycsXG4gIH0sXG4gIHtcbiAgICBpZDogNSxcbiAgICBhbGlhc2VzOiBbJzVtbycsICc1Lm1vJywgJzVtb3NlJywgJzUubW9zZSddLFxuICAgIGxvbmdOYW1lOiAnNS4gTW9zZScsXG4gICAgc2hvcnROYW1lOiAnNU1vJyxcbiAgfSxcbiAge1xuICAgIGlkOiA2LFxuICAgIGFsaWFzZXM6IFsnam9zJywgJ2pvc3VhJ10sXG4gICAgbG9uZ05hbWU6ICdKb3N1YScsXG4gICAgc2hvcnROYW1lOiAnSm9zJyxcbiAgfSxcbiAge1xuICAgIGlkOiA3LFxuICAgIGFsaWFzZXM6IFsncmknLCAncmljaHQnLCAncmljaHRlciddLFxuICAgIGxvbmdOYW1lOiAnUmljaHRlcicsXG4gICAgc2hvcnROYW1lOiAnUmknLFxuICB9LFxuICB7XG4gICAgaWQ6IDgsXG4gICAgYWxpYXNlczogWydydScsICdydXQnLCAncnV0aCddLFxuICAgIGxvbmdOYW1lOiAnUnV0aCcsXG4gICAgc2hvcnROYW1lOiAnUnUnLFxuICB9LFxuICB7XG4gICAgaWQ6IDksXG4gICAgYWxpYXNlczogWycxc2FtJywgJzEuc2FtJywgJzFzYW11ZWwnLCAnMS5zYW11ZWwnXSxcbiAgICBsb25nTmFtZTogJzEuIFNhbXVlbCcsXG4gICAgc2hvcnROYW1lOiAnMVNhbScsXG4gIH0sXG4gIHtcbiAgICBpZDogMTAsXG4gICAgYWxpYXNlczogWycyc2FtJywgJzIuc2FtJywgJzJzYW11ZWwnLCAnMi5zYW11ZWwnXSxcbiAgICBsb25nTmFtZTogJzIuIFNhbXVlbCcsXG4gICAgc2hvcnROYW1lOiAnMlNhbScsXG4gIH0sXG4gIHtcbiAgICBpZDogMTEsXG4gICAgYWxpYXNlczogWycxa1x1MDBGNicsICcxLmtcdTAwRjYnLCAnMWtcdTAwRjZuJywgJzEua1x1MDBGNm4nLCAnMWtcdTAwRjZuaWdlJywgJzEua1x1MDBGNm5pZ2UnXSxcbiAgICBsb25nTmFtZTogJzEuIEtcdTAwRjZuaWdlJyxcbiAgICBzaG9ydE5hbWU6ICcxS1x1MDBGNicsXG4gIH0sXG4gIHtcbiAgICBpZDogMTIsXG4gICAgYWxpYXNlczogWycya1x1MDBGNicsICcyLmtcdTAwRjYnLCAnMmtcdTAwRjZuJywgJzIua1x1MDBGNm4nLCAnMmtcdTAwRjZuaWdlJywgJzIua1x1MDBGNm5pZ2UnXSxcbiAgICBsb25nTmFtZTogJzIuIEtcdTAwRjZuaWdlJyxcbiAgICBzaG9ydE5hbWU6ICcyS1x1MDBGNicsXG4gIH0sXG4gIHtcbiAgICBpZDogMTMsXG4gICAgYWxpYXNlczogW1xuICAgICAgJzFjaHInLFxuICAgICAgJzEuY2hyJyxcbiAgICAgICcxY2hyb24nLFxuICAgICAgJzEuY2hyb24nLFxuICAgICAgJzFjaHJvbmlrJyxcbiAgICAgICcxLmNocm9uaWsnLFxuICAgICAgJzFjaHJvbmlrYScsXG4gICAgICAnMS5jaHJvbmlrYScsXG4gICAgXSxcbiAgICBsb25nTmFtZTogJzEuIENocm9uaWthJyxcbiAgICBzaG9ydE5hbWU6ICcxQ2hyJyxcbiAgfSxcbiAge1xuICAgIGlkOiAxNCxcbiAgICBhbGlhc2VzOiBbXG4gICAgICAnMmNocicsXG4gICAgICAnMi5jaHInLFxuICAgICAgJzJjaHJvbicsXG4gICAgICAnMi5jaHJvbicsXG4gICAgICAnMmNocm9uaWsnLFxuICAgICAgJzIuY2hyb25paycsXG4gICAgICAnMmNocm9uaWthJyxcbiAgICAgICcyLmNocm9uaWthJyxcbiAgICBdLFxuICAgIGxvbmdOYW1lOiAnMi4gQ2hyb25pa2EnLFxuICAgIHNob3J0TmFtZTogJzJDaHInLFxuICB9LFxuICB7XG4gICAgaWQ6IDE1LFxuICAgIGFsaWFzZXM6IFsnZXNyJywgJ2VzcmEnXSxcbiAgICBsb25nTmFtZTogJ0VzcmEnLFxuICAgIHNob3J0TmFtZTogJ0VzcicsXG4gIH0sXG4gIHtcbiAgICBpZDogMTYsXG4gICAgYWxpYXNlczogWyduZWgnLCAnbmVoZW0nLCAnbmVoZW1pYSddLFxuICAgIGxvbmdOYW1lOiAnTmVoZW1pYScsXG4gICAgc2hvcnROYW1lOiAnTmVoJyxcbiAgfSxcbiAge1xuICAgIGlkOiAxNyxcbiAgICBhbGlhc2VzOiBbJ2VzdCcsICdlc3RoJywgJ2VzdGVyJywgJ2VzdGhlciddLFxuICAgIGxvbmdOYW1lOiAnRXN0aGVyJyxcbiAgICBzaG9ydE5hbWU6ICdFc3RoJyxcbiAgfSxcbiAge1xuICAgIGlkOiAxOCxcbiAgICBhbGlhc2VzOiBbJ2hpJywgJ2hpb2InXSxcbiAgICBsb25nTmFtZTogJ0hpb2InLFxuICAgIHNob3J0TmFtZTogJ0hpJyxcbiAgfSxcbiAge1xuICAgIGlkOiAxOSxcbiAgICBhbGlhc2VzOiBbJ3BzJywgJ3BzYScsICdwc2FsbScsICdwc2FsbWVuJ10sXG4gICAgbG9uZ05hbWU6ICdQc2FsbScsXG4gICAgc2hvcnROYW1lOiAnUHMnLFxuICB9LFxuICB7XG4gICAgaWQ6IDIwLFxuICAgIGFsaWFzZXM6IFsnc3ByJywgJ3Nwclx1MDBGQycsICdzcHJ1ZScsICdzcHJcdTAwRkNjaGUnXSxcbiAgICBsb25nTmFtZTogJ1Nwclx1MDBGQ2NoZScsXG4gICAgc2hvcnROYW1lOiAnU3ByJyxcbiAgfSxcbiAge1xuICAgIGlkOiAyMSxcbiAgICBhbGlhc2VzOiBbJ3ByZWQnLCAncHJlZGlnZXInXSxcbiAgICBsb25nTmFtZTogJ1ByZWRpZ2VyJyxcbiAgICBzaG9ydE5hbWU6ICdQcmVkJyxcbiAgfSxcbiAge1xuICAgIGlkOiAyMixcbiAgICBhbGlhc2VzOiBbJ2hvaCcsICdobCcsICdob2hlc2xpZWQnLCAnaG9oZXMgbGllZCddLFxuICAgIGxvbmdOYW1lOiAnSG9oZXMgTGllZCcsXG4gICAgc2hvcnROYW1lOiAnSG9oJyxcbiAgfSxcbiAge1xuICAgIGlkOiAyMyxcbiAgICBhbGlhc2VzOiBbJ2plcycsICdqZXNhamEnXSxcbiAgICBsb25nTmFtZTogJ0plc2FqYScsXG4gICAgc2hvcnROYW1lOiAnSmVzJyxcbiAgfSxcbiAge1xuICAgIGlkOiAyNCxcbiAgICBhbGlhc2VzOiBbJ2plcicsICdqZXJlbWlhJ10sXG4gICAgbG9uZ05hbWU6ICdKZXJlbWlhJyxcbiAgICBzaG9ydE5hbWU6ICdKZXInLFxuICB9LFxuICB7XG4gICAgaWQ6IDI1LFxuICAgIGFsaWFzZXM6IFsna2xhZycsICdrbGcnLCAna2xnbCcsICdrbGFnZWxpZWRlciddLFxuICAgIGxvbmdOYW1lOiAnS2xhZ2VsaWVkZXInLFxuICAgIHNob3J0TmFtZTogJ0tsZycsXG4gIH0sXG4gIHtcbiAgICBpZDogMjYsXG4gICAgYWxpYXNlczogWydoZXMnLCAnaGVzZWtpZWwnXSxcbiAgICBsb25nTmFtZTogJ0hlc2VraWVsJyxcbiAgICBzaG9ydE5hbWU6ICdIZXMnLFxuICB9LFxuICB7XG4gICAgaWQ6IDI3LFxuICAgIGFsaWFzZXM6IFsnZGFuJywgJ2RhbmllbCddLFxuICAgIGxvbmdOYW1lOiAnRGFuaWVsJyxcbiAgICBzaG9ydE5hbWU6ICdEYW4nLFxuICB9LFxuICB7XG4gICAgaWQ6IDI4LFxuICAgIGFsaWFzZXM6IFsnaG9zJywgJ2hvc2VhJ10sXG4gICAgbG9uZ05hbWU6ICdIb3NlYScsXG4gICAgc2hvcnROYW1lOiAnSG9zJyxcbiAgfSxcbiAge1xuICAgIGlkOiAyOSxcbiAgICBhbGlhc2VzOiBbJ2pvZScsICdqb2VsJ10sXG4gICAgbG9uZ05hbWU6ICdKb2VsJyxcbiAgICBzaG9ydE5hbWU6ICdKb2VsJyxcbiAgfSxcbiAge1xuICAgIGlkOiAzMCxcbiAgICBhbGlhc2VzOiBbJ2FtJywgJ2Ftb3MnXSxcbiAgICBsb25nTmFtZTogJ0Ftb3MnLFxuICAgIHNob3J0TmFtZTogJ0FtJyxcbiAgfSxcbiAge1xuICAgIGlkOiAzMSxcbiAgICBhbGlhc2VzOiBbJ29iJywgJ29iZCcsICdvYmFkamEnXSxcbiAgICBsb25nTmFtZTogJ09iYWRqYScsXG4gICAgc2hvcnROYW1lOiAnT2InLFxuICB9LFxuICB7XG4gICAgaWQ6IDMyLFxuICAgIGFsaWFzZXM6IFsnam9uJywgJ2pvbmEnXSxcbiAgICBsb25nTmFtZTogJ0pvbmEnLFxuICAgIHNob3J0TmFtZTogJ0pvbicsXG4gIH0sXG4gIHtcbiAgICBpZDogMzMsXG4gICAgYWxpYXNlczogWydtaScsICdtaWNoYSddLFxuICAgIGxvbmdOYW1lOiAnTWljaGEnLFxuICAgIHNob3J0TmFtZTogJ01pJyxcbiAgfSxcbiAge1xuICAgIGlkOiAzNCxcbiAgICBhbGlhc2VzOiBbJ25haCcsICduYWh1bSddLFxuICAgIGxvbmdOYW1lOiAnTmFodW0nLFxuICAgIHNob3J0TmFtZTogJ05haCcsXG4gIH0sXG4gIHtcbiAgICBpZDogMzUsXG4gICAgYWxpYXNlczogWydoYWInLCAnaGFiYWt1ayddLFxuICAgIGxvbmdOYW1lOiAnSGFiYWt1aycsXG4gICAgc2hvcnROYW1lOiAnSGFiJyxcbiAgfSxcbiAge1xuICAgIGlkOiAzNixcbiAgICBhbGlhc2VzOiBbJ3plcGgnLCAnemVmYW5qYScsICd6ZXBoYW5qYSddLFxuICAgIGxvbmdOYW1lOiAnWmVwaGFuamEnLFxuICAgIHNob3J0TmFtZTogJ1plcGgnLFxuICB9LFxuICB7XG4gICAgaWQ6IDM3LFxuICAgIGFsaWFzZXM6IFsnaGFnJywgJ2hhZ2dhaSddLFxuICAgIGxvbmdOYW1lOiAnSGFnZ2FpJyxcbiAgICBzaG9ydE5hbWU6ICdIYWcnLFxuICB9LFxuICB7XG4gICAgaWQ6IDM4LFxuICAgIGFsaWFzZXM6IFsnc2FjaCcsICdzYWNoYXJqYSddLFxuICAgIGxvbmdOYW1lOiAnU2FjaGFyamEnLFxuICAgIHNob3J0TmFtZTogJ1NhY2gnLFxuICB9LFxuICB7XG4gICAgaWQ6IDM5LFxuICAgIGFsaWFzZXM6IFsnbWFsJywgJ21hbGVhY2hpJ10sXG4gICAgbG9uZ05hbWU6ICdNYWxlYWNoaScsXG4gICAgc2hvcnROYW1lOiAnTWFsJyxcbiAgfSxcbiAge1xuICAgIGlkOiA0MCxcbiAgICBhbGlhc2VzOiBbJ210JywgJ21hdCcsICdtYXR0JywgJ21hdHRoJywgJ21hdHRoXHUwMEU0dXMnXSxcbiAgICBsb25nTmFtZTogJ01hdHRoXHUwMEU0dXMnLFxuICAgIHNob3J0TmFtZTogJ01hdCcsXG4gIH0sXG4gIHtcbiAgICBpZDogNDEsXG4gICAgYWxpYXNlczogWydtYXInLCAnbWFya3VzJ10sXG4gICAgbG9uZ05hbWU6ICdNYXJrdXMnLFxuICAgIHNob3J0TmFtZTogJ01hcicsXG4gIH0sXG4gIHtcbiAgICBpZDogNDIsXG4gICAgYWxpYXNlczogWydsaycsICdsdWsnLCAnbHVrYXMnXSxcbiAgICBsb25nTmFtZTogJ0x1a2FzJyxcbiAgICBzaG9ydE5hbWU6ICdMdWsnLFxuICB9LFxuICB7XG4gICAgaWQ6IDQzLFxuICAgIGFsaWFzZXM6IFsnam9oJywgJ2pvaGFubmVzJ10sXG4gICAgbG9uZ05hbWU6ICdKb2hhbm5lcycsXG4gICAgc2hvcnROYW1lOiAnSm9oJyxcbiAgfSxcbiAge1xuICAgIGlkOiA0NCxcbiAgICBhbGlhc2VzOiBbJ2FwZycsICdhcG9zdGVsZ2VzY2hpY2h0ZSddLFxuICAgIGxvbmdOYW1lOiAnQXBvc3RlbGdlc2NoaWNodGUnLFxuICAgIHNob3J0TmFtZTogJ0FwZycsXG4gIH0sXG4gIHtcbiAgICBpZDogNDUsXG4gICAgYWxpYXNlczogWydyXHUwMEY2bScsICdyXHUwMEY2bWVyJ10sXG4gICAgbG9uZ05hbWU6ICdSXHUwMEY2bWVyJyxcbiAgICBzaG9ydE5hbWU6ICdSXHUwMEY2bScsXG4gIH0sXG4gIHtcbiAgICBpZDogNDYsXG4gICAgYWxpYXNlczogWycxa29yJywgJzEua29yJywgJzFrb3JpbnRoZXInLCAnMS5rb3JpbnRoZXInXSxcbiAgICBsb25nTmFtZTogJzEuIEtvcmludGhlcicsXG4gICAgc2hvcnROYW1lOiAnMUtvcicsXG4gIH0sXG4gIHtcbiAgICBpZDogNDcsXG4gICAgYWxpYXNlczogWycya29yJywgJzIua29yJywgJzJrb3JpbnRoZXInLCAnMi5rb3JpbnRoZXInXSxcbiAgICBsb25nTmFtZTogJzIuIEtvcmludGhlcicsXG4gICAgc2hvcnROYW1lOiAnMktvcicsXG4gIH0sXG4gIHtcbiAgICBpZDogNDgsXG4gICAgYWxpYXNlczogWydnYWwnLCAnZ2FsYXRlciddLFxuICAgIGxvbmdOYW1lOiAnR2FsYXRlcicsXG4gICAgc2hvcnROYW1lOiAnR2FsJyxcbiAgfSxcbiAge1xuICAgIGlkOiA0OSxcbiAgICBhbGlhc2VzOiBbJ2VwaCcsICdlcGhlc2VyJ10sXG4gICAgbG9uZ05hbWU6ICdFcGhlc2VyJyxcbiAgICBzaG9ydE5hbWU6ICdFcGgnLFxuICB9LFxuICB7XG4gICAgaWQ6IDUwLFxuICAgIGFsaWFzZXM6IFsncGhpbCcsICdwaGlsaXBwZXInXSxcbiAgICBsb25nTmFtZTogJ1BoaWxpcHBlcicsXG4gICAgc2hvcnROYW1lOiAnUGhpbCcsXG4gIH0sXG4gIHtcbiAgICBpZDogNTEsXG4gICAgYWxpYXNlczogWydrb2wnLCAna29sb3NzZXInXSxcbiAgICBsb25nTmFtZTogJ0tvbG9zc2VyJyxcbiAgICBzaG9ydE5hbWU6ICdLb2wnLFxuICB9LFxuICB7XG4gICAgaWQ6IDUyLFxuICAgIGFsaWFzZXM6IFsnMXRoJywgJzEudGgnLCAnMXRoZXMnLCAnMS50aGVzJywgJzF0aGVzc2Fsb25pY2hlcicsICcxLnRoZXNzYWxvbmljaGVyJ10sXG4gICAgbG9uZ05hbWU6ICcxLiBUaGVzc2Fsb25pY2hlcicsXG4gICAgc2hvcnROYW1lOiAnMVRoJyxcbiAgfSxcbiAge1xuICAgIGlkOiA1MyxcbiAgICBhbGlhc2VzOiBbJzJ0aCcsICcyLnRoJywgJzJ0aGVzJywgJzIudGhlcycsICcydGhlc3NhbG9uaWNoZXInLCAnMi50aGVzc2Fsb25pY2hlciddLFxuICAgIGxvbmdOYW1lOiAnMi4gVGhlc3NhbG9uaWNoZXInLFxuICAgIHNob3J0TmFtZTogJzJUaCcsXG4gIH0sXG4gIHtcbiAgICBpZDogNTQsXG4gICAgYWxpYXNlczogWycxdGltJywgJzEudGltJywgJzF0aW1vdGhldXMnLCAnMS50aW1vdGhldXMnXSxcbiAgICBsb25nTmFtZTogJzEuIFRpbW90aGV1cycsXG4gICAgc2hvcnROYW1lOiAnMVRpbScsXG4gIH0sXG4gIHtcbiAgICBpZDogNTUsXG4gICAgYWxpYXNlczogWycydGltJywgJzIudGltJywgJzJ0aW1vdGhldXMnLCAnMi50aW1vdGhldXMnXSxcbiAgICBsb25nTmFtZTogJzIuIFRpbW90aGV1cycsXG4gICAgc2hvcnROYW1lOiAnMlRpbScsXG4gIH0sXG4gIHtcbiAgICBpZDogNTYsXG4gICAgYWxpYXNlczogWyd0aXQnLCAndGl0dXMnXSxcbiAgICBsb25nTmFtZTogJ1RpdHVzJyxcbiAgICBzaG9ydE5hbWU6ICdUaXQnLFxuICB9LFxuICB7XG4gICAgaWQ6IDU3LFxuICAgIGFsaWFzZXM6IFsncGhtJywgJ3BobG0nLCAncGhpbGVtb24nXSxcbiAgICBsb25nTmFtZTogJ1BoaWxlbW9uJyxcbiAgICBzaG9ydE5hbWU6ICdQaG0nLFxuICB9LFxuICB7XG4gICAgaWQ6IDU4LFxuICAgIGFsaWFzZXM6IFsnaGVicicsICdoZWInLCAnaGViclx1MDBFNGVyJ10sXG4gICAgbG9uZ05hbWU6ICdIZWJyXHUwMEU0ZXInLFxuICAgIHNob3J0TmFtZTogJ0hlYnInLFxuICB9LFxuICB7XG4gICAgaWQ6IDU5LFxuICAgIGFsaWFzZXM6IFsnamFrJywgJ2pha29idXMnXSxcbiAgICBsb25nTmFtZTogJ0pha29idXMnLFxuICAgIHNob3J0TmFtZTogJ0phaycsXG4gIH0sXG4gIHtcbiAgICBpZDogNjAsXG4gICAgYWxpYXNlczogWycxcGUnLCAnMS5wZScsICcxcGV0JywgJzEucGV0JywgJzFwZXRydXMnLCAnMS5wZXRydXMnXSxcbiAgICBsb25nTmFtZTogJzEuIFBldHJ1cycsXG4gICAgc2hvcnROYW1lOiAnMVBlJyxcbiAgfSxcbiAge1xuICAgIGlkOiA2MSxcbiAgICBhbGlhc2VzOiBbJzJwZScsICcyLnBlJywgJzJwZXQnLCAnMi5wZXQnLCAnMnBldHJ1cycsICcyLnBldHJ1cyddLFxuICAgIGxvbmdOYW1lOiAnMi4gUGV0cnVzJyxcbiAgICBzaG9ydE5hbWU6ICcyUGUnLFxuICB9LFxuICB7XG4gICAgaWQ6IDYyLFxuICAgIGFsaWFzZXM6IFsnMWpvaCcsICcxLmpvaCcsICcxam9oYW5uZXMnLCAnMS5qb2hhbm5lcyddLFxuICAgIGxvbmdOYW1lOiAnMS4gSm9oYW5uZXMnLFxuICAgIHNob3J0TmFtZTogJzFKb2gnLFxuICB9LFxuICB7XG4gICAgaWQ6IDYzLFxuICAgIGFsaWFzZXM6IFsnMmpvaCcsICcyLmpvaCcsICcyam9oYW5uZXMnLCAnMi5qb2hhbm5lcyddLFxuICAgIGxvbmdOYW1lOiAnMi4gSm9oYW5uZXMnLFxuICAgIHNob3J0TmFtZTogJzJKb2gnLFxuICB9LFxuICB7XG4gICAgaWQ6IDY0LFxuICAgIGFsaWFzZXM6IFsnM2pvaCcsICczLmpvaCcsICczam9oYW5uZXMnLCAnMy5qb2hhbm5lcyddLFxuICAgIGxvbmdOYW1lOiAnMy4gSm9oYW5uZXMnLFxuICAgIHNob3J0TmFtZTogJzNKb2gnLFxuICB9LFxuICB7XG4gICAgaWQ6IDY1LFxuICAgIGFsaWFzZXM6IFsnanVkJywgJ2p1ZGFzJ10sXG4gICAgbG9uZ05hbWU6ICdKdWRhcycsXG4gICAgc2hvcnROYW1lOiAnSnVkJyxcbiAgfSxcbiAge1xuICAgIGlkOiA2NixcbiAgICBhbGlhc2VzOiBbJ29mZicsICdvZmZiJywgJ29mZmVuYmFydW5nJywgJ29mZmVuYiddLFxuICAgIGxvbmdOYW1lOiAnT2ZmZW5iYXJ1bmcnLFxuICAgIHNob3J0TmFtZTogJ09mZicsXG4gIH0sXG5dIGFzIGNvbnN0O1xuIiwgImltcG9ydCB7IGJpYmxlQm9va3NERSB9IGZyb20gJ0AvYmlibGVCb29rcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kQm9va0luZGV4KGJvb2tRdWVyeTogc3RyaW5nKTogbnVtYmVyIHtcbiAgYm9va1F1ZXJ5ID0gYm9va1F1ZXJ5LnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICBmb3IgKGNvbnN0IGJvb2sgb2YgYmlibGVCb29rc0RFKSB7XG4gICAgaWYgKGJvb2suYWxpYXNlcy5pbmNsdWRlcyhib29rUXVlcnkpKSB7XG4gICAgICByZXR1cm4gYm9vay5pZDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuIiwgImltcG9ydCB7IGZpbmRCb29rSW5kZXggfSBmcm9tICdAL3V0aWxzL2ZpbmRCb29rSW5kZXgnO1xuXG5pbXBvcnQgdHlwZSB7IEJpYmxlUmVmZXJlbmNlIH0gZnJvbSAnQC90eXBlcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUJpYmxlUmVmZXJlbmNlKGlucHV0OiBzdHJpbmcpOiBCaWJsZVJlZmVyZW5jZSB7XG4gIGlucHV0ID0gaW5wdXQudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG5cbiAgY29uc3QgbWF0Y2ggPSBpbnB1dC5tYXRjaCgvXihbYS16MC05XHUwMEU0XHUwMEY2XHUwMEZDXHUwMERGXSs/KSg/OlxccyooXFxkKylcXHMqOlxccyooXFxkKykoPzpcXHMqLVxccyooXFxkKykpPyQpL2kpO1xuICBpZiAoIW1hdGNoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGZvcm1hdCcpO1xuICB9XG5cbiAgY29uc3QgWywgYm9va05hbWUsIGNoYXB0ZXIsIHZlcnNlU3RhcnQsIHZlcnNlRW5kXSA9IG1hdGNoO1xuICBjb25zdCBib29rSW5kZXggPSBmaW5kQm9va0luZGV4KGJvb2tOYW1lLnRyaW0oKSk7XG4gIGlmIChib29rSW5kZXggPT09IC0xKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdCb29rIG5vdCBmb3VuZCcpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBib29rOiBib29rSW5kZXggPCAxMCA/IGAwJHtib29rSW5kZXh9YCA6IGJvb2tJbmRleC50b1N0cmluZygpLFxuICAgIGNoYXB0ZXI6IGNoYXB0ZXIucGFkU3RhcnQoMywgJzAnKSxcbiAgICB2ZXJzZTogdmVyc2VTdGFydC5wYWRTdGFydCgzLCAnMCcpLFxuICAgIGVuZFZlcnNlOiB2ZXJzZUVuZCA/IHZlcnNlRW5kLnBhZFN0YXJ0KDMsICcwJykgOiB1bmRlZmluZWQsXG4gIH07XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBCaWJsZVJlZmVyZW5jZSB9IGZyb20gJ0AvdHlwZXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0SldMaWJyYXJ5TGluayhyZWZlcmVuY2U6IEJpYmxlUmVmZXJlbmNlKTogc3RyaW5nIHtcbiAgY29uc3QgYmFzZVJlZmVyZW5jZSA9IGAke3JlZmVyZW5jZS5ib29rfSR7cmVmZXJlbmNlLmNoYXB0ZXJ9JHtyZWZlcmVuY2UudmVyc2V9YDtcbiAgY29uc3QgcmFuZ2VSZWZlcmVuY2UgPSByZWZlcmVuY2UuZW5kVmVyc2VcbiAgICA/IGAtJHtyZWZlcmVuY2UuYm9va30ke3JlZmVyZW5jZS5jaGFwdGVyfSR7cmVmZXJlbmNlLmVuZFZlcnNlfWBcbiAgICA6ICcnO1xuICByZXR1cm4gYGp3bGlicmFyeTovLy9maW5kZXI/YmlibGU9JHtiYXNlUmVmZXJlbmNlfSR7cmFuZ2VSZWZlcmVuY2V9YDtcbn1cbiIsICJpbXBvcnQgeyBiaWJsZUJvb2tzREUgfSBmcm9tICdAL2JpYmxlQm9va3MnO1xuaW1wb3J0IHsgcGFyc2VCaWJsZVJlZmVyZW5jZSB9IGZyb20gJ0AvdXRpbHMvcGFyc2VCaWJsZVJlZmVyZW5jZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRCaWJsZVRleHQoaW5wdXQ6IHN0cmluZywgc2hvcnQgPSBmYWxzZSk6IHN0cmluZyB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVmZXJlbmNlID0gcGFyc2VCaWJsZVJlZmVyZW5jZShpbnB1dCk7XG4gICAgY29uc3QgYm9va0luZGV4ID0gcGFyc2VJbnQocmVmZXJlbmNlLmJvb2spIC0gMTtcbiAgICBjb25zdCBib29rRW50cnkgPSBiaWJsZUJvb2tzREVbYm9va0luZGV4XTtcblxuICAgIC8vIFVzZSBzaG9ydCBvciBsb25nIG5hbWUgYmFzZWQgb24gc2V0dGluZ3NcbiAgICBjb25zdCBib29rTmFtZSA9IHNob3J0ID8gYm9va0VudHJ5LnNob3J0TmFtZSA6IGJvb2tFbnRyeS5sb25nTmFtZTtcblxuICAgIC8vIEZvcm1hdCB0aGUgdmVyc2UgcmVmZXJlbmNlXG4gICAgY29uc3QgdmVyc2VSZWYgPSByZWZlcmVuY2UuZW5kVmVyc2VcbiAgICAgID8gYCR7cGFyc2VJbnQocmVmZXJlbmNlLnZlcnNlKX0tJHtwYXJzZUludChyZWZlcmVuY2UuZW5kVmVyc2UpfWBcbiAgICAgIDogcGFyc2VJbnQocmVmZXJlbmNlLnZlcnNlKTtcblxuICAgIHJldHVybiBgJHtib29rTmFtZX0gJHtwYXJzZUludChyZWZlcmVuY2UuY2hhcHRlcil9OiR7dmVyc2VSZWZ9YDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gaW5wdXQ7XG4gIH1cbn1cbiIsICJleHBvcnQgZnVuY3Rpb24gY29udmVydEJpYmxlUmVmZXJlbmNlKHVybDogc3RyaW5nKTogc3RyaW5nIHtcbiAgLy8gUmVwbGFjZSAnandwdWI6Ly8nIHdpdGggJ2p3bGlicmFyeTovLydcbiAgdXJsID0gdXJsLnJlcGxhY2UoJ2p3cHViOi8vJywgJ2p3bGlicmFyeTovLycpO1xuICAvLyBFeHRyYWN0IHRoZSBCaWJsZSByZWZlcmVuY2UgcGFydHNcbiAgY29uc3QgcGFydHMgPSB1cmwuc3BsaXQoJy8nKTtcbiAgY29uc3QgYmlibGVSZWYgPSBwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXTtcblxuICAvLyBFeHRyYWN0IGJvb2ssIGNoYXB0ZXIgYW5kIHZlcnNlXG4gIGNvbnN0IFtzdGFydEJvb2tDaGFwdGVyVmVyc2UsIGVuZEJvb2tDaGFwdGVyVmVyc2VdID0gYmlibGVSZWYuc3BsaXQoJy0nKTtcbiAgY29uc3QgW2Jvb2tTdGFydCwgY2hhcHRlclN0YXJ0LCB2ZXJzZVN0YXJ0XSA9IHN0YXJ0Qm9va0NoYXB0ZXJWZXJzZS5zcGxpdCgnOicpO1xuICBjb25zdCBbYm9va0VuZCwgY2hhcHRlckVuZCwgdmVyc2VFbmRdID0gZW5kQm9va0NoYXB0ZXJWZXJzZS5zcGxpdCgnOicpO1xuXG4gIC8vIEZvcm1hdCB0aGUgbnVtYmVycyB0byBlbnN1cmUgcHJvcGVyIHBhZGRpbmdcbiAgY29uc3QgZm9ybWF0dGVkQ2hhcHRlclN0YXJ0ID0gY2hhcHRlclN0YXJ0LnBhZFN0YXJ0KDMsICcwJyk7XG4gIGNvbnN0IGZvcm1hdHRlZFZlcnNlU3RhcnQgPSB2ZXJzZVN0YXJ0LnBhZFN0YXJ0KDMsICcwJyk7XG4gIGNvbnN0IGZvcm1hdHRlZENoYXB0ZXJFbmQgPSBjaGFwdGVyRW5kLnBhZFN0YXJ0KDMsICcwJyk7XG4gIGNvbnN0IGZvcm1hdHRlZFZlcnNlRW5kID0gdmVyc2VFbmQucGFkU3RhcnQoMywgJzAnKTtcblxuICBjb25zdCBmb3JtYXR0ZWRSZWZlcmVuY2VTdGFydCA9IGAke2Jvb2tTdGFydH0ke2Zvcm1hdHRlZENoYXB0ZXJTdGFydH0ke2Zvcm1hdHRlZFZlcnNlU3RhcnR9YDtcbiAgY29uc3QgZm9ybWF0dGVkUmVmZXJlbmNlRW5kID0gYCR7Ym9va0VuZH0ke2Zvcm1hdHRlZENoYXB0ZXJFbmR9JHtmb3JtYXR0ZWRWZXJzZUVuZH1gO1xuXG4gIGNvbnN0IGZvcm1hdHRlZFJlZmVyZW5jZSA9XG4gICAgZm9ybWF0dGVkUmVmZXJlbmNlU3RhcnQgPT09IGZvcm1hdHRlZFJlZmVyZW5jZUVuZFxuICAgICAgPyBmb3JtYXR0ZWRSZWZlcmVuY2VTdGFydFxuICAgICAgOiBgJHtmb3JtYXR0ZWRSZWZlcmVuY2VTdGFydH0tJHtmb3JtYXR0ZWRSZWZlcmVuY2VFbmR9YDtcblxuICByZXR1cm4gYGp3bGlicmFyeTovLy9maW5kZXI/YmlibGU9JHtmb3JtYXR0ZWRSZWZlcmVuY2V9YDtcbn1cbiIsICJleHBvcnQgZnVuY3Rpb24gY29udmVydFB1YmxpY2F0aW9uUmVmZXJlbmNlKHVybDogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgcGFydHMgPSB1cmwuc3BsaXQoJy8nKTtcbiAgY29uc3QgcHViUmVmID0gcGFydHNbM107XG4gIGNvbnN0IFtsb2NhbGUsIGRvY0lkXSA9IHB1YlJlZi5zcGxpdCgnOicpO1xuICBjb25zdCBwYXJhZ3JhcGggPSBwYXJ0c1s0XTtcblxuICByZXR1cm4gYGp3bGlicmFyeTovLy9maW5kZXI/d3Rsb2NhbGU9JHtsb2NhbGV9JmRvY2lkPSR7ZG9jSWR9JnBhcj0ke3BhcmFncmFwaH1gO1xufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLHNCQVVPOzs7QUNSQSxJQUFNLGVBQXFDO0FBQUEsRUFDaEQ7QUFBQSxJQUNFLElBQUk7QUFBQSxJQUNKLFNBQVMsQ0FBQyxPQUFPLFFBQVEsU0FBUyxRQUFRO0FBQUEsSUFDMUMsVUFBVTtBQUFBLElBQ1YsV0FBVztBQUFBLEVBQ2I7QUFBQSxFQUNBO0FBQUEsSUFDRSxJQUFJO0FBQUEsSUFDSixTQUFTLENBQUMsT0FBTyxRQUFRLFNBQVMsUUFBUTtBQUFBLElBQzFDLFVBQVU7QUFBQSxJQUNWLFdBQVc7QUFBQSxFQUNiO0FBQUEsRUFDQTtBQUFBLElBQ0UsSUFBSTtBQUFBLElBQ0osU0FBUyxDQUFDLE9BQU8sUUFBUSxTQUFTLFFBQVE7QUFBQSxJQUMxQyxVQUFVO0FBQUEsSUFDVixXQUFXO0FBQUEsRUFDYjtBQUFBLEVBQ0E7QUFBQSxJQUNFLElBQUk7QUFBQSxJQUNKLFNBQVMsQ0FBQyxPQUFPLFFBQVEsU0FBUyxRQUFRO0FBQUEsSUFDMUMsVUFBVTtBQUFBLElBQ1YsV0FBVztBQUFBLEVBQ2I7QUFBQSxFQUNB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
