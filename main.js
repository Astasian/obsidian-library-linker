/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var w=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var O=Object.getOwnPropertyNames;var z=Object.prototype.hasOwnProperty;var K=(t,i)=>{for(var e in i)w(t,e,{get:i[e],enumerable:!0})},D=(t,i,e,s)=>{if(i&&typeof i=="object"||typeof i=="function")for(let a of O(i))!z.call(t,a)&&a!==e&&w(t,a,{get:()=>i[a],enumerable:!(s=F(i,a))||s.enumerable});return t};var W=t=>D(w({},"__esModule",{value:!0}),t);var q={};K(q,{default:()=>R,matchingBibleReferenceRegex:()=>Z});module.exports=W(q);var f=require("obsidian");function J(t){t=t.replace("jwpub://","jwlibrary://");let i=t.split("/"),e=i[i.length-1],[s,a]=e.split("-"),[n,r,o]=s.split(":"),[l,g,d]=a.split(":"),u=r.padStart(3,"0"),m=o.padStart(3,"0"),h=g.padStart(3,"0"),N=d.padStart(3,"0"),k=`${n}${u}${m}`,C=`${l}${h}${N}`;return`jwlibrary:///finder?bible=${k===C?k:`${k}-${C}`}`}function T(t){let i=t.split("/"),e=i[3],[s,a]=e.split(":"),n=i[4];return`jwlibrary:///finder?wtlocale=${s}&docid=${a}&par=${n}`}function L(t,i="all"){let e=/\[([^\]]+)\]\(([^)]+)\)/g;return t.replace(e,(s,a,n)=>n.startsWith("jwpub://b/")&&(i==="bible"||i==="all")?`[${a}](${J(n)})`:n.startsWith("jwpub://p/")&&(i==="publication"||i==="all")?`[${a}](${T(n)})`:s)}var j=[{id:1,prefix:"1",aliases:["mose"],longName:"1. Mose",shortName:"1Mo"},{id:2,prefix:"2",aliases:["mose"],longName:"2. Mose",shortName:"2Mo"},{id:3,prefix:"3",aliases:["mose"],longName:"3. Mose",shortName:"3Mo"},{id:4,prefix:"4",aliases:["mose"],longName:"4. Mose",shortName:"4Mo"},{id:5,prefix:"5",aliases:["mose"],longName:"5. Mose",shortName:"5Mo"},{id:6,aliases:["josua"],longName:"Josua",shortName:"Jos"},{id:7,aliases:["richter"],longName:"Richter",shortName:"Ri"},{id:8,aliases:["ruth"],longName:"Ruth",shortName:"Ru"},{id:9,prefix:"1",aliases:["samuel"],longName:"1. Samuel",shortName:"1Sa"},{id:10,prefix:"2",aliases:["samuel"],longName:"2. Samuel",shortName:"2Sa"},{id:11,prefix:"1",aliases:["k\xF6nige","koenige"],longName:"1. K\xF6nige",shortName:"1K\xF6"},{id:12,prefix:"2",aliases:["k\xF6nige","koenige"],longName:"2. K\xF6nige",shortName:"2K\xF6"},{id:13,prefix:"1",aliases:["chronika"],longName:"1. Chronika",shortName:"1Ch"},{id:14,prefix:"2",aliases:["chronika"],longName:"2. Chronika",shortName:"2Ch"},{id:15,aliases:["esra"],longName:"Esra",shortName:"Esr"},{id:16,aliases:["nehemia"],longName:"Nehemia",shortName:"Ne"},{id:17,aliases:["esther"],longName:"Esther",shortName:"Est"},{id:18,aliases:["hiob"],longName:"Hiob",shortName:"Hi"},{id:19,aliases:["psalm"],longName:"Psalm",shortName:"Ps"},{id:20,aliases:["spr\xFCche","sprueche"],longName:"Spr\xFCche",shortName:"Spr"},{id:21,aliases:["prediger"],longName:"Prediger",shortName:"Pr"},{id:22,aliases:["hoheslied","hohes lied"],longName:"Hohes Lied",shortName:"Hoh"},{id:23,aliases:["jesaja"],longName:"Jesaja",shortName:"Jes"},{id:24,aliases:["jeremia"],longName:"Jeremia",shortName:"Jer"},{id:25,aliases:["klagelieder"],longName:"Klagelieder",shortName:"Klg"},{id:26,aliases:["hesekiel"],longName:"Hesekiel",shortName:"Hes"},{id:27,aliases:["daniel"],longName:"Daniel",shortName:"Da"},{id:28,aliases:["hosea"],longName:"Hosea",shortName:"Hos"},{id:29,aliases:["joel"],longName:"Joel",shortName:"Joel"},{id:30,aliases:["amos"],longName:"Amos",shortName:"Am"},{id:31,aliases:["obadja"],longName:"Obadja",shortName:"Ob"},{id:32,aliases:["jona"],longName:"Jona",shortName:"Jon"},{id:33,aliases:["micha"],longName:"Micha",shortName:"Mi"},{id:34,aliases:["nahum"],longName:"Nahum",shortName:"Nah"},{id:35,aliases:["habakuk"],longName:"Habakuk",shortName:"Hab"},{id:36,aliases:["zephanja","zefanja"],longName:"Zephanja",shortName:"Ze"},{id:37,aliases:["haggai"],longName:"Haggai",shortName:"Hag"},{id:38,aliases:["sacharja"],longName:"Sacharja",shortName:"Sach"},{id:39,aliases:["maleachi"],longName:"Maleachi",shortName:"Mal"},{id:40,aliases:["matth\xE4us","matthaeus","mtt"],longName:"Matth\xE4us",shortName:"Mat"},{id:41,aliases:["markus"],longName:"Markus",shortName:"Mar"},{id:42,aliases:["lukas"],longName:"Lukas",shortName:"Luk"},{id:43,aliases:["johannes"],longName:"Johannes",shortName:"Joh"},{id:44,aliases:["apostelgeschichte","apg"],longName:"Apostelgeschichte",shortName:"Apg"},{id:45,aliases:["r\xF6mer","roemer"],longName:"R\xF6mer",shortName:"R\xF6"},{id:46,prefix:"1",aliases:["korinther"],longName:"1. Korinther",shortName:"1Ko"},{id:47,prefix:"2",aliases:["korinther"],longName:"2. Korinther",shortName:"2Ko"},{id:48,aliases:["galater"],longName:"Galater",shortName:"Gal"},{id:49,aliases:["epheser"],longName:"Epheser",shortName:"Eph"},{id:50,aliases:["philipper"],longName:"Philipper",shortName:"Phil"},{id:51,aliases:["kolosser"],longName:"Kolosser",shortName:"Kol"},{id:52,prefix:"1",aliases:["thessalonicher"],longName:"1. Thessalonicher",shortName:"1Th"},{id:53,prefix:"2",aliases:["thessalonicher"],longName:"2. Thessalonicher",shortName:"2Th"},{id:54,prefix:"1",aliases:["timotheus"],longName:"1. Timotheus",shortName:"1Ti"},{id:55,prefix:"2",aliases:["timotheus"],longName:"2. Timotheus",shortName:"2Ti"},{id:56,aliases:["titus"],longName:"Titus",shortName:"Tit"},{id:57,aliases:["philemon","phlm","phm"],longName:"Philemon",shortName:"Phm"},{id:58,aliases:["hebr\xE4er","hebraeer"],longName:"Hebr\xE4er",shortName:"Heb"},{id:59,aliases:["jakobus"],longName:"Jakobus",shortName:"Jak"},{id:60,prefix:"1",aliases:["petrus"],longName:"1. Petrus",shortName:"1Pe"},{id:61,prefix:"2",aliases:["petrus"],longName:"2. Petrus",shortName:"2Pe"},{id:62,prefix:"1",aliases:["johannes"],longName:"1. Johannes",shortName:"1Jo"},{id:63,prefix:"2",aliases:["johannes"],longName:"2. Johannes",shortName:"2Jo"},{id:64,prefix:"3",aliases:["johannes"],longName:"3. Johannes",shortName:"3Jo"},{id:65,aliases:["judas"],longName:"Judas",shortName:"Jud"},{id:66,aliases:["offenbarung","offb"],longName:"Offenbarung",shortName:"Off"}];var V=[{id:1,aliases:["genesis"],longName:"Genesis",shortName:"Ge"},{id:2,aliases:["exodus"],longName:"Exodus",shortName:"Ex"},{id:3,aliases:["leviticus"],longName:"Leviticus",shortName:"Le"},{id:4,aliases:["numbers"],longName:"Numbers",shortName:"Nu"},{id:5,aliases:["deuteronomy"],longName:"Deuteronomy",shortName:"De"},{id:6,aliases:["joshua"],longName:"Joshua",shortName:"Jos"},{id:7,aliases:["judges","jg"],longName:"Judges",shortName:"Jg"},{id:8,aliases:["ruth"],longName:"Ruth",shortName:"Ru"},{id:9,prefix:"1",aliases:["samuel"],longName:"1 Samuel",shortName:"1Sa"},{id:10,prefix:"2",aliases:["samuel"],longName:"2 Samuel",shortName:"2Sa"},{id:11,prefix:"1",aliases:["kings"],longName:"1 Kings",shortName:"1Ki"},{id:12,prefix:"2",aliases:["kings"],longName:"2 Kings",shortName:"2Ki"},{id:13,prefix:"1",aliases:["chronicles"],longName:"1 Chronicles",shortName:"1Ch"},{id:14,prefix:"2",aliases:["chronicles"],longName:"2 Chronicles",shortName:"2Ch"},{id:15,aliases:["ezra"],longName:"Ezra",shortName:"Ezr"},{id:16,aliases:["nehemiah"],longName:"Nehemiah",shortName:"Ne"},{id:17,aliases:["esther"],longName:"Esther",shortName:"Es"},{id:18,aliases:["job"],longName:"Job",shortName:"Job"},{id:19,aliases:["psalms"],longName:"Psalms",shortName:"Ps"},{id:20,aliases:["proverbs"],longName:"Proverbs",shortName:"Pr"},{id:21,aliases:["ecclesiastes"],longName:"Ecclesiastes",shortName:"Ec"},{id:22,aliases:["can","songofsolomon","songofsongs"],longName:"Song of Solomon",shortName:"Ca"},{id:23,aliases:["isaiah"],longName:"Isaiah",shortName:"Isa"},{id:24,aliases:["jeremiah"],longName:"Jeremiah",shortName:"Jer"},{id:25,aliases:["lamentations"],longName:"Lamentations",shortName:"La"},{id:26,aliases:["ezekiel"],longName:"Ezekiel",shortName:"Eze"},{id:27,aliases:["daniel"],longName:"Daniel",shortName:"Da"},{id:28,aliases:["hosea"],longName:"Hosea",shortName:"Ho"},{id:29,aliases:["joel"],longName:"Joel",shortName:"Joe"},{id:30,aliases:["amos"],longName:"Amos",shortName:"Am"},{id:31,aliases:["obadiah"],longName:"Obadiah",shortName:"Ob"},{id:32,aliases:["jonah","jnh"],longName:"Jonah",shortName:"Jon"},{id:33,aliases:["micah"],longName:"Micah",shortName:"Mic"},{id:34,aliases:["nahum"],longName:"Nahum",shortName:"Na"},{id:35,aliases:["habakkuk"],longName:"Habakkuk",shortName:"Hab"},{id:36,aliases:["zephaniah"],longName:"Zephaniah",shortName:"Zep"},{id:37,aliases:["haggai"],longName:"Haggai",shortName:"Hag"},{id:38,aliases:["zechariah"],longName:"Zechariah",shortName:"Zec"},{id:39,aliases:["malachi"],longName:"Malachi",shortName:"Mal"},{id:40,aliases:["matthew","mt"],longName:"Matthew",shortName:"Mt"},{id:41,aliases:["mark","mr"],longName:"Mark",shortName:"Mr"},{id:42,aliases:["luke"],longName:"Luke",shortName:"Lu"},{id:43,aliases:["john"],longName:"John",shortName:"Joh"},{id:44,aliases:["acts"],longName:"Acts",shortName:"Ac"},{id:45,aliases:["romans"],longName:"Romans",shortName:"Ro"},{id:46,prefix:"1",aliases:["corinthians"],longName:"1 Corinthians",shortName:"1Co"},{id:47,prefix:"2",aliases:["corinthians"],longName:"2 Corinthians",shortName:"2Co"},{id:48,aliases:["galatians"],longName:"Galatians",shortName:"Ga"},{id:49,aliases:["ephesians"],longName:"Ephesians",shortName:"Eph"},{id:50,aliases:["philippians","php"],longName:"Philippians",shortName:"Php"},{id:51,aliases:["colossians"],longName:"Colossians",shortName:"Col"},{id:52,prefix:"1",aliases:["thessalonians"],longName:"1 Thessalonians",shortName:"1Th"},{id:53,prefix:"2",aliases:["thessalonians"],longName:"2 Thessalonians",shortName:"2Th"},{id:54,prefix:"1",aliases:["timothy"],longName:"1 Timothy",shortName:"1Ti"},{id:55,prefix:"2",aliases:["timothy"],longName:"2 Timothy",shortName:"2Ti"},{id:56,aliases:["titus"],longName:"Titus",shortName:"Tit"},{id:57,aliases:["philemon","phm"],longName:"Philemon",shortName:"Phm"},{id:58,aliases:["hebrews"],longName:"Hebrews",shortName:"Heb"},{id:59,aliases:["james","jas"],longName:"James",shortName:"Jas"},{id:60,prefix:"1",aliases:["peter"],longName:"1 Peter",shortName:"1Pe"},{id:61,prefix:"2",aliases:["peter"],longName:"2 Peter",shortName:"2Pe"},{id:62,prefix:"1",aliases:["john"],longName:"1 John",shortName:"1Jo"},{id:63,prefix:"2",aliases:["john"],longName:"2 John",shortName:"2Jo"},{id:64,prefix:"3",aliases:["john"],longName:"3 John",shortName:"3Jo"},{id:65,aliases:["jude"],longName:"Jude",shortName:"Jude"},{id:66,aliases:["revelation"],longName:"Revelation",shortName:"Re"}];var M=require("obsidian");var P={settings:{language:{name:"Language",description:"Select the language for Bible references"},useShortNames:{name:"Use short names in Bible links",description:'When enabled, Bible references will use abbreviated book names (e.g., "1Pe" instead of "1. Peter")'}},commands:{replaceLinks:"Convert all links",replaceBibleLinks:"Convert Bible verse links",replacePublicationLinks:"Convert publication links",convertBibleReference:"Convert Bible reference to Library link"},notices:{multipleBooksFound:"Multiple Bible books found: {{books}}"},suggestions:{createLink:"Create link: {{text}}",createLinks:"Create links: {{text}}",createAndOpen:"Create link and open: {{text}}",createAndOpenVerse:"Create link and open: {{verse}}",typing:"Enter Bible reference: {{text}}",typingEmpty:"Enter Bible reference"},errors:{multipleBooksFound:"Multiple Bible books found: {{books}}",bookNotFound:"Bible book not found: {{book}}",invalidVerseNumber:"Invalid verse number",versesAscendingOrder:"Verses must be in ascending order",invalidVerseFormat:"Invalid verse format",invalidReferenceFormat:"Invalid reference format",conversionError:"Error converting Bible text: {{message}}",unsupportedLanguage:"Unsupported language: {{language}}"}};var I={settings:{language:{name:"Sprache",description:"W\xE4hle die Sprache f\xFCr die Bibelverweise"},useShortNames:{name:"Kurznamen in Bibelverweisen verwenden",description:'Wenn aktiviert, werden Bibelverweise mit abgek\xFCrzten Buchnamen angezeigt (z.B. "1Pe" statt "1. Petrus")'}},commands:{replaceLinks:"Alle Links umwandeln",replaceBibleLinks:"Bibelvers-Links umwandeln",replacePublicationLinks:"Publikations-Links umwandeln",convertBibleReference:"Bibelverweis in JW Library-Link umwandeln"},notices:{multipleBooksFound:"Mehrere Bibelb\xFCcher gefunden: {{books}}"},suggestions:{createLink:"Link erstellen: {{text}}",createLinks:"Links erstellen: {{text}}",createAndOpen:"Link erstellen und \xF6ffnen: {{text}}",createAndOpenVerse:"Link erstellen und \xF6ffnen: {{verse}}",typing:"Bibelverweis eingeben: {{text}}",typingEmpty:"Bibelverweis eingeben"},errors:{multipleBooksFound:"Mehrere Bibelb\xFCcher gefunden: {{books}}",bookNotFound:"Bibelbuch nicht gefunden: {{book}}",invalidVerseNumber:"Ung\xFCltige Versnummer",versesAscendingOrder:"Verse m\xFCssen in aufsteigender Reihenfolge sein",invalidVerseFormat:"Ung\xFCltiges Versformat",invalidReferenceFormat:"Ung\xFCltiges Referenzformat",conversionError:"Fehler beim Konvertieren des Bibeltextes: {{message}}",unsupportedLanguage:"Nicht unterst\xFCtzte Sprache: {{language}}"}};var c=class t{constructor(){this.currentLocale="en";this.translations={en:P,de:I};try{if(typeof window!="undefined"&&window.localStorage){let i=window.localStorage.getItem("language");(i==="en"||i==="de")&&(this.currentLocale=i)}}catch(i){console.debug("Could not access localStorage, using default locale")}}static getInstance(){return t.instance||(t.instance=new t),t.instance}setLocale(i){this.currentLocale=i}getCurrentLocale(){return this.currentLocale}t(i,e={}){let s=i.split("."),a=this.translations[this.currentLocale];for(let n of s)if(a&&typeof a=="object"&&n in a)a=a[n];else return console.warn(`Translation key not found: ${i}`),i;return typeof a=="string"?this.replaceVariables(a,e):i}replaceVariables(i,e){return i.replace(/\{\{(\w+)\}\}/g,(s,a)=>e[a]||s)}};var x=t=>{let i=c.getInstance().t.bind(c.getInstance());switch(t){case"E":return V;case"X":return j;default:return new M.Notice(i("errors.unsupportedLanguage",{language:t})),null}};var A=(t,i)=>{let e=c.getInstance().t.bind(c.getInstance());t=t.toLowerCase().replace(/[/.\s]/g,"").trim();let s=x(i);if(!s)return{book:null};let a=s.filter(n=>n.prefix?t.match(/^[1-5]/):!0).filter(n=>n.aliases.map(o=>n.prefix?`${n.prefix}${o}`:o).some(o=>o.includes(t)));return a.length>1?{book:null,notification:e("errors.multipleBooksFound",{books:a.map(n=>n.longName).join(", ")})}:a.length===1?{book:a[0]}:{book:null,notification:e("errors.bookNotFound")}};function v(t){let i=parseInt(t,10);if(isNaN(i)||i<1)throw new Error("errors.invalidVerseFormat");return i}function p(t){return t.toString().padStart(3,"0")}function G(t){t=t.trim(),t.endsWith(",")&&(t=t.slice(0,-1));let i=t.split(",").map(n=>n.trim()).filter(n=>n.length>0);if(i.length!==t.split(",").length)throw new Error("errors.invalidVerseFormat");let e=[],s=0,a=null;for(let n of i){if((n.match(/-/g)||[]).length>1||n.includes("--"))throw new Error("errors.invalidVerseFormat");if(n.includes("-")){let r=v(n.split("-")[0]),o=v(n.split("-")[1]);if(r>=o)throw new Error("errors.versesAscendingOrder");if(r<=s)throw new Error("errors.versesAscendingOrder");a&&r===s+1?a.end=p(o):(a={start:p(r),end:p(o)},e.push(a)),s=o}else{let r=v(n);if(r<=s)throw new Error("errors.versesAscendingOrder");a&&r===s+1?a.end=p(r):(a={start:p(r),end:p(r)},e.push(a)),s=r}}return e}function b(t,i){t=t.trim().toLowerCase();let e=t.match(/^([a-z0-9äöüß]+?)\s*(\d+)\s*:\s*(.+)$/i);if(!e)throw new Error("errors.invalidFormat");let[,s,a,n]=e,r=A(s,i);if(!r.book)throw new Error("errors.bookNotFound");let o=r.book,l=o.id<10?`0${o.id}`:o.id.toString(),g=a.padStart(3,"0"),d=n.match(/^(\d+)(?:-(\d*))?$/);if(d){let[,m,h]=d,N=v(m);if(h){let k=v(h);if(N>=k)throw new Error("errors.versesAscendingOrder");return{book:l,chapter:g,verseRanges:[{start:p(N),end:p(k)}]}}return{book:l,chapter:g,verseRanges:[{start:p(N),end:p(N)}]}}let u=G(n);return{book:l,chapter:g,verseRanges:u}}function B(t,i){let{book:e,chapter:s,verseRanges:a}=t;if(!a)throw new Error("errors.invalidReferenceFormat");let n=r=>`jwlibrary:///finder?bible=${r}${i?`&wtlocale=${i}`:""}`;if(a.length===1){let{start:r,end:o}=a[0],l=`${e}${s}${r}`;return n(r===o?l:`${l}-${e}${s}${o}`)}return a.map(({start:r,end:o})=>{let l=`${e}${s}${r}`;return n(r===o?l:`${l}-${e}${s}${o}`)})}function S(t,i=!1,e){var o;let s=b(t,e);if(!s)return t;let a=(o=x(e))==null?void 0:o.find(l=>l.id===parseInt(s.book));if(!a)return t;let n=i?a.shortName:a.longName,r=s.verseRanges.map(l=>{let g=parseInt(l.start),d=parseInt(l.end);return g===d?g.toString():`${g}-${d}`});return`${n} ${parseInt(s.chapter)}:${r.join(",")}`}function H(t,i){try{let e=b(t,i);return e?B(e,i):t}catch(e){return t}}function y(t,i=!1,e){var s;try{let a=b(t,e);if(!a)return t;let n=a,r=B(n,e);if(!r||Array.isArray(r)&&!r.length)return t;if(Array.isArray(r)){let l=(s=x(e))==null?void 0:s.find(m=>m.id===parseInt(n.book));if(!l)return t;let g=i?l.shortName:l.longName,d=parseInt(n.chapter);return n.verseRanges.map(m=>{let h=parseInt(m.start),N=parseInt(m.end);return h===N?h.toString():`${h}-${N}`}).map((m,h)=>h===0?`[${g} ${d}:${m}](${r[h]})`:`[${m}](${r[h]})`).join(",")}return`[${S(t,i,e)}](${r})`}catch(a){return console.error(a),t}}var Z=/^(?:[1-5]?[A-Za-zäöü]{2,24}\s*\d+:\d+(?:-\d+)?(?:\s*,\s*\d+(?:-\d+)?)*\s*,?\s*)?$/i,U={useShortNames:!1,language:"E"},E=class extends f.EditorSuggest{constructor(e){super(e.app);this.t=c.getInstance().t.bind(c.getInstance());this.plugin=e}onTrigger(e,s){let n=s.getLine(e.line).substring(0,e.ch),r=n.lastIndexOf("/b");if(r===-1)return null;let o=n.slice(r+2);return o.startsWith(" ")||o.length>0?{start:{ch:r,line:e.line},end:e,query:o.trim()}:null}getSuggestions(e){let s=e.query,a=/^([a-z0-9äöüß]+?)\s*(\d+)\s*:\s*(\d+)/i;if(s.length===0)return[{text:s,command:"link",description:this.t("suggestions.typingEmpty")}];if(s.match(a)){let n=null;try{n=b(s,this.plugin.settings.language)}catch(d){return[{text:s,command:"typing",description:this.t("suggestions.typing",{text:s})}]}if(!n)return[];let r=S(s,this.plugin.settings.useShortNames,this.plugin.settings.language),o=B(n,this.plugin.settings.language),l=Array.isArray(o)&&o.length>1,g=[{text:s,command:"link",description:l?this.t("suggestions.createLinks",{text:r}):this.t("suggestions.createLink",{text:r})}];return l?n.verseRanges.map(u=>{let m=parseInt(u.start),h=parseInt(u.end);return m===h?m.toString():`${m}-${h}`}).forEach((u,m)=>{g.push({text:s,command:"open",description:this.t("suggestions.createAndOpenVerse",{verse:u}),linkIndex:m})}):g.push({text:s,command:"open",description:this.t("suggestions.createAndOpen",{text:r})}),g}else return[{text:s,command:"typing",description:this.t("suggestions.typing",{text:s})}]}renderSuggestion(e,s){s.setText(e.description)}selectSuggestion(e){if(!this.context)return;let{context:s}=this,a=s.editor,n=y(e.text,this.plugin.settings.useShortNames,this.plugin.settings.language);if(e.command!=="typing"&&(a.replaceRange(n,s.start,s.end),e.command==="open")){let r=H(e.text,this.plugin.settings.language);Array.isArray(r)?window.open(r[e.linkIndex||0]):window.open(r)}}},R=class extends f.Plugin{constructor(){super(...arguments);this.t=c.getInstance().t.bind(c.getInstance())}async onload(){await this.loadSettings(),this.addSettingTab(new $(this.app,this)),this.addCommand({id:"replace-links",name:this.t("commands.replaceLinks"),editorCallback:e=>{let s=e.getValue(),a=L(s,"all");s!==a&&e.setValue(a)}}),this.addCommand({id:"replace-bible-links",name:this.t("commands.replaceBibleLinks"),editorCallback:e=>{let s=e.getValue(),a=L(s,"bible");s!==a&&e.setValue(a)}}),this.addCommand({id:"replace-publication-links",name:this.t("commands.replacePublicationLinks"),editorCallback:e=>{let s=e.getValue(),a=L(s,"publication");s!==a&&e.setValue(a)}}),this.addCommand({id:"convert-bible-text",name:this.t("commands.convertBibleReference"),editorCallback:e=>{let s=e.getSelection();if(s){let a=y(s,this.settings.useShortNames,this.settings.language);e.replaceSelection(a)}}}),this.bibleSuggester=new E(this),this.registerEditorSuggest(this.bibleSuggester)}onunload(){}async loadSettings(){this.settings=Object.assign({},U,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}},$=class extends f.PluginSettingTab{constructor(e,s){super(e,s);this.t=c.getInstance().t.bind(c.getInstance());this.plugin=s}display(){let{containerEl:e}=this;e.empty(),new f.Setting(e).setName(this.t("settings.language.name")).setDesc(this.t("settings.language.description")).addDropdown(s=>s.addOptions({E:"English",X:"Deutsch"}).setValue(this.plugin.settings.language).onChange(async a=>{this.plugin.settings.language=a,await this.plugin.saveSettings(),this.display()})),new f.Setting(e).setName(this.t("settings.useShortNames.name")).setDesc(this.t("settings.useShortNames.description")).addToggle(s=>s.setValue(this.plugin.settings.useShortNames).onChange(async a=>{this.plugin.settings.useShortNames=a,await this.plugin.saveSettings()}))}};
