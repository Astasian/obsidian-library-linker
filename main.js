/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var y=Object.defineProperty;var W=Object.getOwnPropertyDescriptor;var G=Object.getOwnPropertyNames;var Z=Object.prototype.hasOwnProperty;var U=(t,n)=>{for(var e in n)y(t,e,{get:n[e],enumerable:!0})},q=(t,n,e,a)=>{if(n&&typeof n=="object"||typeof n=="function")for(let s of G(n))!Z.call(t,s)&&s!==e&&y(t,s,{get:()=>n[s],enumerable:!(a=W(n,s))||a.enumerable});return t};var X=t=>q(y({},"__esModule",{value:!0}),t);var _={};U(_,{default:()=>w,matchingBibleReferenceRegex:()=>C});module.exports=X(_);var f=require("obsidian");function P(t){t=t.replace("jwpub://","jwlibrary://");let n=t.split("/"),e=n[n.length-1],[a,s]=e.split("-"),[i,r,o]=a.split(":"),[l,g,d]=s.split(":"),h=r.padStart(3,"0"),c=o.padStart(3,"0"),p=g.padStart(3,"0"),L=d.padStart(3,"0"),R=`${i}${h}${c}`,j=`${l}${p}${L}`;return`jwlibrary:///finder?bible=${R===j?R:`${R}-${j}`}`}function M(t){let n=t.split("/"),e=n[3],[a,s]=e.split(":"),i=n[4];return`jwlibrary:///finder?wtlocale=${a}&docid=${s}&par=${i}`}function B(t,n="all"){let e=/\[([^\]]+)\]\(([^)]+)\)/g;return t.replace(e,(a,s,i)=>i.startsWith("jwpub://b/")&&(n==="bible"||n==="all")?`[${s}](${P(i)})`:i.startsWith("jwpub://p/")&&(n==="publication"||n==="all")?`[${s}](${M(i)})`:a)}var E=require("obsidian");var V=[{id:1,prefix:"1",aliases:["mose"],longName:"1. Mose",shortName:"1Mo"},{id:2,prefix:"2",aliases:["mose"],longName:"2. Mose",shortName:"2Mo"},{id:3,prefix:"3",aliases:["mose"],longName:"3. Mose",shortName:"3Mo"},{id:4,prefix:"4",aliases:["mose"],longName:"4. Mose",shortName:"4Mo"},{id:5,prefix:"5",aliases:["mose"],longName:"5. Mose",shortName:"5Mo"},{id:6,aliases:["josua"],longName:"Josua",shortName:"Jos"},{id:7,aliases:["richter"],longName:"Richter",shortName:"Ri"},{id:8,aliases:["ruth"],longName:"Ruth",shortName:"Ru"},{id:9,prefix:"1",aliases:["samuel"],longName:"1. Samuel",shortName:"1Sa"},{id:10,prefix:"2",aliases:["samuel"],longName:"2. Samuel",shortName:"2Sa"},{id:11,prefix:"1",aliases:["k\xF6nige","koenige"],longName:"1. K\xF6nige",shortName:"1K\xF6"},{id:12,prefix:"2",aliases:["k\xF6nige","koenige"],longName:"2. K\xF6nige",shortName:"2K\xF6"},{id:13,prefix:"1",aliases:["chronika"],longName:"1. Chronika",shortName:"1Ch"},{id:14,prefix:"2",aliases:["chronika"],longName:"2. Chronika",shortName:"2Ch"},{id:15,aliases:["esra"],longName:"Esra",shortName:"Esr"},{id:16,aliases:["nehemia"],longName:"Nehemia",shortName:"Ne"},{id:17,aliases:["esther"],longName:"Esther",shortName:"Est"},{id:18,aliases:["hiob"],longName:"Hiob",shortName:"Hi"},{id:19,aliases:["psalm"],longName:"Psalm",shortName:"Ps"},{id:20,aliases:["spr\xFCche","sprueche"],longName:"Spr\xFCche",shortName:"Spr"},{id:21,aliases:["prediger"],longName:"Prediger",shortName:"Pr"},{id:22,aliases:["hoheslied","hohes lied"],longName:"Hohes Lied",shortName:"Hoh"},{id:23,aliases:["jesaja"],longName:"Jesaja",shortName:"Jes"},{id:24,aliases:["jeremia"],longName:"Jeremia",shortName:"Jer"},{id:25,aliases:["klagelieder"],longName:"Klagelieder",shortName:"Klg"},{id:26,aliases:["hesekiel"],longName:"Hesekiel",shortName:"Hes"},{id:27,aliases:["daniel"],longName:"Daniel",shortName:"Da"},{id:28,aliases:["hosea"],longName:"Hosea",shortName:"Hos"},{id:29,aliases:["joel"],longName:"Joel",shortName:"Joel"},{id:30,aliases:["amos"],longName:"Amos",shortName:"Am"},{id:31,aliases:["obadja"],longName:"Obadja",shortName:"Ob"},{id:32,aliases:["jona"],longName:"Jona",shortName:"Jon"},{id:33,aliases:["micha"],longName:"Micha",shortName:"Mi"},{id:34,aliases:["nahum"],longName:"Nahum",shortName:"Nah"},{id:35,aliases:["habakuk"],longName:"Habakuk",shortName:"Hab"},{id:36,aliases:["zephanja","zefanja"],longName:"Zephanja",shortName:"Ze"},{id:37,aliases:["haggai"],longName:"Haggai",shortName:"Hag"},{id:38,aliases:["sacharja"],longName:"Sacharja",shortName:"Sach"},{id:39,aliases:["maleachi"],longName:"Maleachi",shortName:"Mal"},{id:40,aliases:["matth\xE4us","matthaeus","mtt"],longName:"Matth\xE4us",shortName:"Mat"},{id:41,aliases:["markus"],longName:"Markus",shortName:"Mar"},{id:42,aliases:["lukas"],longName:"Lukas",shortName:"Luk"},{id:43,aliases:["johannes"],longName:"Johannes",shortName:"Joh"},{id:44,aliases:["apostelgeschichte","apg"],longName:"Apostelgeschichte",shortName:"Apg"},{id:45,aliases:["r\xF6mer","roemer"],longName:"R\xF6mer",shortName:"R\xF6"},{id:46,prefix:"1",aliases:["korinther"],longName:"1. Korinther",shortName:"1Ko"},{id:47,prefix:"2",aliases:["korinther"],longName:"2. Korinther",shortName:"2Ko"},{id:48,aliases:["galater"],longName:"Galater",shortName:"Gal"},{id:49,aliases:["epheser"],longName:"Epheser",shortName:"Eph"},{id:50,aliases:["philipper"],longName:"Philipper",shortName:"Phil"},{id:51,aliases:["kolosser"],longName:"Kolosser",shortName:"Kol"},{id:52,prefix:"1",aliases:["thessalonicher"],longName:"1. Thessalonicher",shortName:"1Th"},{id:53,prefix:"2",aliases:["thessalonicher"],longName:"2. Thessalonicher",shortName:"2Th"},{id:54,prefix:"1",aliases:["timotheus"],longName:"1. Timotheus",shortName:"1Ti"},{id:55,prefix:"2",aliases:["timotheus"],longName:"2. Timotheus",shortName:"2Ti"},{id:56,aliases:["titus"],longName:"Titus",shortName:"Tit"},{id:57,aliases:["philemon","phlm","phm"],longName:"Philemon",shortName:"Phm"},{id:58,aliases:["hebr\xE4er","hebraeer"],longName:"Hebr\xE4er",shortName:"Heb"},{id:59,aliases:["jakobus"],longName:"Jakobus",shortName:"Jak"},{id:60,prefix:"1",aliases:["petrus"],longName:"1. Petrus",shortName:"1Pe"},{id:61,prefix:"2",aliases:["petrus"],longName:"2. Petrus",shortName:"2Pe"},{id:62,prefix:"1",aliases:["johannes"],longName:"1. Johannes",shortName:"1Jo"},{id:63,prefix:"2",aliases:["johannes"],longName:"2. Johannes",shortName:"2Jo"},{id:64,prefix:"3",aliases:["johannes"],longName:"3. Johannes",shortName:"3Jo"},{id:65,aliases:["judas"],longName:"Judas",shortName:"Jud"},{id:66,aliases:["offenbarung","offb"],longName:"Offenbarung",shortName:"Off"}];var A=[{id:1,aliases:["genesis"],longName:"Genesis",shortName:"Ge"},{id:2,aliases:["exodus"],longName:"Exodus",shortName:"Ex"},{id:3,aliases:["leviticus"],longName:"Leviticus",shortName:"Le"},{id:4,aliases:["numbers"],longName:"Numbers",shortName:"Nu"},{id:5,aliases:["deuteronomy"],longName:"Deuteronomy",shortName:"De"},{id:6,aliases:["joshua"],longName:"Joshua",shortName:"Jos"},{id:7,aliases:["judges","jg"],longName:"Judges",shortName:"Jg"},{id:8,aliases:["ruth"],longName:"Ruth",shortName:"Ru"},{id:9,prefix:"1",aliases:["samuel"],longName:"1 Samuel",shortName:"1Sa"},{id:10,prefix:"2",aliases:["samuel"],longName:"2 Samuel",shortName:"2Sa"},{id:11,prefix:"1",aliases:["kings"],longName:"1 Kings",shortName:"1Ki"},{id:12,prefix:"2",aliases:["kings"],longName:"2 Kings",shortName:"2Ki"},{id:13,prefix:"1",aliases:["chronicles"],longName:"1 Chronicles",shortName:"1Ch"},{id:14,prefix:"2",aliases:["chronicles"],longName:"2 Chronicles",shortName:"2Ch"},{id:15,aliases:["ezra"],longName:"Ezra",shortName:"Ezr"},{id:16,aliases:["nehemiah"],longName:"Nehemiah",shortName:"Ne"},{id:17,aliases:["esther"],longName:"Esther",shortName:"Es"},{id:18,aliases:["job"],longName:"Job",shortName:"Job"},{id:19,aliases:["psalms"],longName:"Psalms",shortName:"Ps"},{id:20,aliases:["proverbs"],longName:"Proverbs",shortName:"Pr"},{id:21,aliases:["ecclesiastes"],longName:"Ecclesiastes",shortName:"Ec"},{id:22,aliases:["can","songofsolomon","songofsongs"],longName:"Song of Solomon",shortName:"Ca"},{id:23,aliases:["isaiah"],longName:"Isaiah",shortName:"Isa"},{id:24,aliases:["jeremiah"],longName:"Jeremiah",shortName:"Jer"},{id:25,aliases:["lamentations"],longName:"Lamentations",shortName:"La"},{id:26,aliases:["ezekiel"],longName:"Ezekiel",shortName:"Eze"},{id:27,aliases:["daniel"],longName:"Daniel",shortName:"Da"},{id:28,aliases:["hosea"],longName:"Hosea",shortName:"Ho"},{id:29,aliases:["joel"],longName:"Joel",shortName:"Joe"},{id:30,aliases:["amos"],longName:"Amos",shortName:"Am"},{id:31,aliases:["obadiah"],longName:"Obadiah",shortName:"Ob"},{id:32,aliases:["jonah","jnh"],longName:"Jonah",shortName:"Jon"},{id:33,aliases:["micah"],longName:"Micah",shortName:"Mic"},{id:34,aliases:["nahum"],longName:"Nahum",shortName:"Na"},{id:35,aliases:["habakkuk"],longName:"Habakkuk",shortName:"Hab"},{id:36,aliases:["zephaniah"],longName:"Zephaniah",shortName:"Zep"},{id:37,aliases:["haggai"],longName:"Haggai",shortName:"Hag"},{id:38,aliases:["zechariah"],longName:"Zechariah",shortName:"Zec"},{id:39,aliases:["malachi"],longName:"Malachi",shortName:"Mal"},{id:40,aliases:["matthew","mt"],longName:"Matthew",shortName:"Mt"},{id:41,aliases:["mark","mr"],longName:"Mark",shortName:"Mr"},{id:42,aliases:["luke"],longName:"Luke",shortName:"Lu"},{id:43,aliases:["john"],longName:"John",shortName:"Joh"},{id:44,aliases:["acts"],longName:"Acts",shortName:"Ac"},{id:45,aliases:["romans"],longName:"Romans",shortName:"Ro"},{id:46,prefix:"1",aliases:["corinthians"],longName:"1 Corinthians",shortName:"1Co"},{id:47,prefix:"2",aliases:["corinthians"],longName:"2 Corinthians",shortName:"2Co"},{id:48,aliases:["galatians"],longName:"Galatians",shortName:"Ga"},{id:49,aliases:["ephesians"],longName:"Ephesians",shortName:"Eph"},{id:50,aliases:["philippians","php"],longName:"Philippians",shortName:"Php"},{id:51,aliases:["colossians"],longName:"Colossians",shortName:"Col"},{id:52,prefix:"1",aliases:["thessalonians"],longName:"1 Thessalonians",shortName:"1Th"},{id:53,prefix:"2",aliases:["thessalonians"],longName:"2 Thessalonians",shortName:"2Th"},{id:54,prefix:"1",aliases:["timothy"],longName:"1 Timothy",shortName:"1Ti"},{id:55,prefix:"2",aliases:["timothy"],longName:"2 Timothy",shortName:"2Ti"},{id:56,aliases:["titus"],longName:"Titus",shortName:"Tit"},{id:57,aliases:["philemon","phm"],longName:"Philemon",shortName:"Phm"},{id:58,aliases:["hebrews"],longName:"Hebrews",shortName:"Heb"},{id:59,aliases:["james","jas"],longName:"James",shortName:"Jas"},{id:60,prefix:"1",aliases:["peter"],longName:"1 Peter",shortName:"1Pe"},{id:61,prefix:"2",aliases:["peter"],longName:"2 Peter",shortName:"2Pe"},{id:62,prefix:"1",aliases:["john"],longName:"1 John",shortName:"1Jo"},{id:63,prefix:"2",aliases:["john"],longName:"2 John",shortName:"2Jo"},{id:64,prefix:"3",aliases:["john"],longName:"3 John",shortName:"3Jo"},{id:65,aliases:["jude"],longName:"Jude",shortName:"Jude"},{id:66,aliases:["revelation"],longName:"Revelation",shortName:"Re"}];var z=require("obsidian");var H={settings:{language:{name:"Language",description:"Select the language for Bible references"},useShortNames:{name:"Use short names in Bible links",description:'When enabled, Bible references will use abbreviated book names (e.g., "1Pe" instead of "1. Peter")'}},commands:{replaceLinks:"Convert all links",replaceBibleLinks:"Convert Bible verse links",replacePublicationLinks:"Convert publication links",convertBibleReference:"Convert Bible reference to Library link"},notices:{multipleBooksFound:"Multiple Bible books found: {{books}}"},suggestions:{createLink:"Create link: {{text}}",createLinks:"Create links: {{text}}",createAndOpen:"Create and open: {{text}}",createAndOpenVerse:"Create and open: {{verse}}"},errors:{multipleBooksFound:"Multiple Bible books found: {{books}}",bookNotFound:"Bible book not found: {{book}}",invalidVerseNumber:"Invalid verse number",versesAscendingOrder:"Verses must be in ascending order",invalidFormat:"Invalid reference format",invalidReferenceFormat:"Invalid reference format",conversionError:"Error converting Bible text: {{message}}",unsupportedLanguage:"Unsupported language: {{language}}"}};var O={settings:{language:{name:"Sprache",description:"W\xE4hle die Sprache f\xFCr die Bibelverweise"},useShortNames:{name:"Kurznamen in Bibelverweisen verwenden",description:'Wenn aktiviert, werden Bibelverweise mit abgek\xFCrzten Buchnamen angezeigt (z.B. "1Pe" statt "1. Petrus")'}},commands:{replaceLinks:"Alle Links umwandeln",replaceBibleLinks:"Bibelvers-Links umwandeln",replacePublicationLinks:"Publikations-Links umwandeln",convertBibleReference:"Bibelstelle in JW Library-Link umwandeln"},notices:{multipleBooksFound:"Mehrere Bibelb\xFCcher gefunden: {{books}}"},suggestions:{createLink:"Link erstellen: {{text}}",createLinks:"Links erstellen: {{text}}",createAndOpen:"Erstellen und \xF6ffnen: {{text}}",createAndOpenVerse:"Erstellen und \xF6ffnen: {{verse}}"},errors:{multipleBooksFound:"Mehrere Bibelb\xFCcher gefunden: {{books}}",bookNotFound:"Bibelbuch nicht gefunden: {{book}}",invalidVerseNumber:"Ung\xFCltige Versnummer",versesAscendingOrder:"Verse m\xFCssen in aufsteigender Reihenfolge sein",invalidFormat:"Ung\xFCltiges Referenzformat",invalidReferenceFormat:"Ung\xFCltiges Referenzformat",conversionError:"Fehler beim Konvertieren des Bibeltextes: {{message}}",unsupportedLanguage:"Nicht unterst\xFCtzte Sprache: {{language}}"}};var m=class t{constructor(){this.currentLocale="en";this.translations={en:H,de:O};try{if(typeof window!="undefined"&&window.localStorage){let n=window.localStorage.getItem("language");(n==="en"||n==="de")&&(this.currentLocale=n)}}catch(n){console.debug("Could not access localStorage, using default locale")}}static getInstance(){return t.instance||(t.instance=new t),t.instance}setLocale(n){this.currentLocale=n}getCurrentLocale(){return this.currentLocale}t(n,e={}){let a=n.split("."),s=this.translations[this.currentLocale];for(let i of a)if(s&&typeof s=="object"&&i in s)s=s[i];else return console.warn(`Translation key not found: ${n}`),n;return typeof s=="string"?this.replaceVariables(s,e):n}replaceVariables(n,e){return n.replace(/\{\{(\w+)\}\}/g,(a,s)=>e[s]||a)}};var x=t=>{let n=m.getInstance().t.bind(m.getInstance());switch(t){case"E":return A;case"X":return V;default:return new z.Notice(n("errors.unsupportedLanguage",{language:t})),null}};var F=(t,n)=>{let e=m.getInstance().t.bind(m.getInstance());t=t.toLowerCase().replace(/[/.\s]/g,"").trim();let a=x(n);if(!a)return null;let s=a.filter(i=>i.prefix?t.match(/^[1-5]/):!0).filter(i=>i.aliases.map(o=>i.prefix?`${i.prefix}${o}`:o).some(o=>o.includes(t)));return s.length>1?(new E.Notice(e("errors.multipleBooksFound",{books:s.map(i=>i.longName).join(", ")})),null):s.length===1?s[0]:(new E.Notice(e("errors.bookNotFound")),null)};var u=require("obsidian");function b(t){let n=m.getInstance().t.bind(m.getInstance()),e=parseInt(t,10);return isNaN(e)||e<1?(new u.Notice(n("errors.invalidVerseNumber")),1):e}function N(t){return t.toString().padStart(3,"0")}function Y(t){let n=m.getInstance().t.bind(m.getInstance());t=t.trim(),t.endsWith(",")&&(t=t.slice(0,-1));let e=t.split(",").map(r=>r.trim()).filter(r=>r.length>0);if(e.length!==t.split(",").length)return new u.Notice(n("errors.invalidVerseNumber")),null;let a=[],s=0,i=null;for(let r of e){if((r.match(/-/g)||[]).length>1||r.includes("--"))return new u.Notice(n("errors.invalidVerseNumber")),null;if(r.includes("-")){let[o,l]=r.split("-").map(g=>!g||g.startsWith("-")?(new u.Notice(n("errors.invalidVerseNumber")),null):b(g));if(o===null||l===null)return null;if(o>=l)return new u.Notice(n("errors.versesAscendingOrder")),null;if(o<=s)return new u.Notice(n("errors.versesAscendingOrder")),null;i&&o===s+1?i.end=N(l):(i={start:N(o),end:N(l)},a.push(i)),s=l}else{let o=b(r);if(o<=s)return new u.Notice(n("errors.versesAscendingOrder")),null;i&&o===s+1?i.end=N(o):(i={start:N(o),end:N(o)},a.push(i)),s=o}}return a}function k(t,n){let e=m.getInstance().t.bind(m.getInstance());t=t.trim().toLowerCase();let a=t.match(/^([a-z0-9äöüß]+?)\s*(\d+)\s*:\s*(.+)$/i);if(!a)return new u.Notice(e("errors.invalidFormat")),null;let[,s,i,r]=a,o=F(s,n);if(!o)return new u.Notice(e("errors.bookNotFound",{book:s})),null;let l=o.id<10?`0${o.id}`:o.id.toString(),g=i.padStart(3,"0"),d=r.match(/^(\d+)(?:-(\d+))?$/);if(d){let[,h,c]=d;return c&&b(h)>=b(c)?(new u.Notice(e("errors.versesAscendingOrder")),null):{book:l,chapter:g,verseRanges:[{start:N(b(h)),end:N(b(c||h))}]}}try{let h=Y(r);return h?{book:l,chapter:g,verseRanges:h}:null}catch(h){return new u.Notice(e("errors.invalidFormat")),null}}var K=require("obsidian");function v(t,n){let e=m.getInstance().t.bind(m.getInstance()),{book:a,chapter:s,verseRanges:i}=t;if(!i)return new K.Notice(e("errors.invalidReferenceFormat")),"";let r=o=>`jwlibrary:///finder?bible=${o}${n?`&wtlocale=${n}`:""}`;if(i.length===1){let{start:o,end:l}=i[0],g=`${a}${s}${o}`;return r(o===l?g:`${g}-${a}${s}${l}`)}return i.map(({start:o,end:l})=>{let g=`${a}${s}${o}`;return r(o===l?g:`${g}-${a}${s}${l}`)})}function S(t,n=!1,e){var a;try{let s=k(t,e);if(!s)return t;let i=(a=x(e))==null?void 0:a.find(l=>l.id===parseInt(s.book));if(!i)return t;let r=n?i.shortName:i.longName,o=s.verseRanges.map(l=>{let g=parseInt(l.start),d=parseInt(l.end);return g===d?g.toString():`${g}-${d}`});return`${r} ${parseInt(s.chapter)}:${o.join(",")}`}catch(s){return t}}var $=require("obsidian");function D(t,n){let e=m.getInstance().t.bind(m.getInstance());try{let a=k(t,n);return a?v(a,n):t}catch(a){return new $.Notice(e("errors.conversionError",{message:a instanceof Error?a.message:String(a)})),t}}function T(t,n=!1,e){var s;let a=m.getInstance().t.bind(m.getInstance());try{let i=k(t,e);if(!i)return t;let r=v(i,e);if(!r||Array.isArray(r)&&!r.length)return t;if(Array.isArray(r)){let l=(s=x(e))==null?void 0:s.find(c=>c.id===parseInt(i.book));if(!l)return t;let g=n?l.shortName:l.longName,d=parseInt(i.chapter);return i.verseRanges.map(c=>{let p=parseInt(c.start),L=parseInt(c.end);return p===L?p.toString():`${p}-${L}`}).map((c,p)=>p===0?`[${g} ${d}:${c}](${r[p]})`:`[${c}](${r[p]})`).join(",")}return`[${S(t,n,e)}](${r})`}catch(i){return new $.Notice(a("errors.conversionError",{message:i instanceof Error?i.message:String(i)})),t}}var C=/^(?:[1-5]?[A-Za-zäöü]{2,24}\s*\d+:\d+(?:-\d+)?(?:\s*,\s*\d+(?:-\d+)?)*\s*,?\s*)?$/i,Q={useShortNames:!1,language:"E"},J=class extends f.EditorSuggest{constructor(e){super(e.app);this.t=m.getInstance().t.bind(m.getInstance());this.plugin=e}onTrigger(e,a){let i=a.getLine(e.line).substring(0,e.ch),r=i.lastIndexOf("/b");if(r===-1)return null;let o=i.slice(r+2).trim();return o.match(C)?{start:{ch:r,line:e.line},end:e,query:o}:null}getSuggestions(e){let a=e.query;if(a.match(C)){let s=S(a,!0,this.plugin.settings.language),i=k(a,this.plugin.settings.language);if(!i)return[];let r=v(i,this.plugin.settings.language),o=Array.isArray(r)&&r.length>1,l=[{text:a,command:"link",description:o?this.t("suggestions.createLinks",{text:s}):this.t("suggestions.createLink",{text:s})}];return o?i.verseRanges.map(d=>{let h=parseInt(d.start),c=parseInt(d.end);return h===c?h.toString():`${h}-${c}`}).forEach((d,h)=>{l.push({text:a,command:"open",description:this.t("suggestions.createAndOpenVerse",{verse:d}),linkIndex:h})}):l.push({text:a,command:"open",description:this.t("suggestions.createAndOpen",{text:s})}),l}return[]}renderSuggestion(e,a){a.setText(e.description)}selectSuggestion(e){if(!this.context)return;let{context:a}=this,s=a.editor,i=T(e.text,this.plugin.settings.useShortNames,this.plugin.settings.language);if(s.replaceRange(i,a.start,a.end),e.command==="open"){let r=D(e.text,this.plugin.settings.language);Array.isArray(r)?window.open(r[e.linkIndex||0]):window.open(r)}}},w=class extends f.Plugin{constructor(){super(...arguments);this.t=m.getInstance().t.bind(m.getInstance())}async onload(){await this.loadSettings(),this.addCommand({id:"replace-links",name:this.t("commands.replaceLinks"),editorCallback:e=>{let a=e.getValue(),s=B(a,"all");a!==s&&e.setValue(s)}}),this.addCommand({id:"replace-bible-links",name:this.t("commands.replaceBibleLinks"),editorCallback:e=>{let a=e.getValue(),s=B(a,"bible");a!==s&&e.setValue(s)}}),this.addCommand({id:"replace-publication-links",name:this.t("commands.replacePublicationLinks"),editorCallback:e=>{let a=e.getValue(),s=B(a,"publication");a!==s&&e.setValue(s)}}),this.addCommand({id:"convert-bible-text",name:this.t("commands.convertBibleReference"),editorCallback:e=>{let a=e.getSelection();if(a){let s=T(a,this.settings.useShortNames,this.settings.language);e.replaceSelection(s)}}}),this.addSettingTab(new I(this.app,this)),this.bibleSuggester=new J(this),this.registerEditorSuggest(this.bibleSuggester)}onunload(){}async loadSettings(){this.settings=Object.assign({},Q,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}},I=class extends f.PluginSettingTab{constructor(e,a){super(e,a);this.t=m.getInstance().t.bind(m.getInstance());this.plugin=a}display(){let{containerEl:e}=this;e.empty(),new f.Setting(e).setName(this.t("settings.language.name")).setDesc(this.t("settings.language.description")).addDropdown(a=>a.addOptions({E:"English",X:"Deutsch"}).setValue(this.plugin.settings.language).onChange(async s=>{this.plugin.settings.language=s,await this.plugin.saveSettings(),this.display()})),new f.Setting(e).setName(this.t("settings.useShortNames.name")).setDesc(this.t("settings.useShortNames.description")).addToggle(a=>a.setValue(this.plugin.settings.useShortNames).onChange(async s=>{this.plugin.settings.useShortNames=s,await this.plugin.saveSettings()}))}};
